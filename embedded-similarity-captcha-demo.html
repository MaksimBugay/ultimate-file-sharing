<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="canonical" href="https://secure.fileshare.ovh/dynamic-captcha.html"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Secure FileShare: Visual similarity challenge</title>
    <link rel="stylesheet" href="https://secure.fileshare.ovh/css/dynamic-captcha.css">

    <link rel="icon" type="image/png" sizes="32x32" href="https://secure.fileshare.ovh/images/file-sharing32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://secure.fileshare.ovh/images/file-sharing16.png">

    <!-- Open Graph meta tags -->
    <meta property="og:title" content="Secure FileShare: dynamic captcha">
    <meta property="og:description" content="Dynamic captcha demo">
    <meta property="og:image" content="https://secure.fileshare.ovh/images/not-a-robot.png">
    <meta property="og:url" content="https://secure.fileshare.ovh/images/not-a-robot.png">
    <meta property="og:type" content="website">

    <!-- Twitter Card meta tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Secure FileShare: dynamic captcha">
    <meta name="twitter:description" content="Dynamic captcha demo">
    <meta name="twitter:image" content="https://secure.fileshare.ovh/images/not-a-robot.png">
</head>
<body style="background-color: #006BFD;padding: 0;margin: 0;">

<div class="main-container">
    <div id="contentPreviewContainer" class="visual-challenge-container">
        <div id="captchaContainer" style="margin-left: 5px; margin-top: 15px; transform: scale(1.0);">
            <iframe id="captchaFrame" class="similarity-captcha-iframe"></iframe>
        </div>
    </div>
</div>

</body>
<script src="https://secure.fileshare.ovh/js/pushca.min.js?v=<?= time(); ?>"></script>
<script src="js/embedded-similarity-captcha.js?v=<?= time(); ?>"></script>
<script src="js/validate-human-token.js?v=<?= time(); ?>"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const pageId = uuid.v4().toString();
        const captchaContainer = document.getElementById('captchaContainer');
        if (!captchaContainer) return;

        addVisualSimilarityChallenge(
            captchaContainer,
            pageId,
            function (token) {
                alert(`Human token was received for page with id = ${pageId}: ${token}`);
                /*const isValid = await validateHumanToken(pageId, token);
                if (isValid) {
                    console.log(`"${pageId}", "${token}"`);
                    alert(`"${pageId}", "${token}"`);
                }*/
                location.reload();
            }
        );
    });
</script>
</html>