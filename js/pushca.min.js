var FingerprintJS=function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},t.apply(this,arguments)};function n(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function r(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function a(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var i="3.4.2";function o(e,t){return new Promise((function(n){return setTimeout(n,e,t)}))}function s(e){return!!e&&"function"==typeof e.then}function l(e,t){try{var n=e();s(n)?n.then((function(e){return t(!0,e)}),(function(e){return t(!1,e)})):t(!0,n)}catch(e){t(!1,e)}}function c(e,t,a){return void 0===a&&(a=16),n(this,void 0,void 0,(function(){var n,i,s,l;return r(this,(function(r){switch(r.label){case 0:n=Array(e.length),i=Date.now(),s=0,r.label=1;case 1:return s<e.length?(n[s]=t(e[s],s),(l=Date.now())>=i+a?(i=l,[4,o(0)]):[3,3]):[3,4];case 2:r.sent(),r.label=3;case 3:return++s,[3,1];case 4:return[2,n]}}))}))}function u(e){e.then(void 0,(function(){}))}function d(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function h(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function y(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function f(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function p(e,t){return[e[0]^t[0],e[1]^t[1]]}function m(e){return e=p(e,[0,e[0]>>>1]),e=p(e=h(e,[4283543511,3981806797]),[0,e[0]>>>1]),p(e=h(e,[3301882366,444984403]),[0,e[0]>>>1])}function b(e,t){t=t||0;var n,r=(e=e||"").length%16,a=e.length-r,i=[0,t],o=[0,t],s=[0,0],l=[0,0],c=[2277735313,289559509],u=[1291169091,658871167];for(n=0;n<a;n+=16)s=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],l=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],s=y(s=h(s,c),31),i=d(i=y(i=p(i,s=h(s,u)),27),o),i=d(h(i,[0,5]),[0,1390208809]),l=y(l=h(l,u),33),o=d(o=y(o=p(o,l=h(l,c)),31),i),o=d(h(o,[0,5]),[0,944331445]);switch(s=[0,0],l=[0,0],r){case 15:l=p(l,f([0,e.charCodeAt(n+14)],48));case 14:l=p(l,f([0,e.charCodeAt(n+13)],40));case 13:l=p(l,f([0,e.charCodeAt(n+12)],32));case 12:l=p(l,f([0,e.charCodeAt(n+11)],24));case 11:l=p(l,f([0,e.charCodeAt(n+10)],16));case 10:l=p(l,f([0,e.charCodeAt(n+9)],8));case 9:l=h(l=p(l,[0,e.charCodeAt(n+8)]),u),o=p(o,l=h(l=y(l,33),c));case 8:s=p(s,f([0,e.charCodeAt(n+7)],56));case 7:s=p(s,f([0,e.charCodeAt(n+6)],48));case 6:s=p(s,f([0,e.charCodeAt(n+5)],40));case 5:s=p(s,f([0,e.charCodeAt(n+4)],32));case 4:s=p(s,f([0,e.charCodeAt(n+3)],24));case 3:s=p(s,f([0,e.charCodeAt(n+2)],16));case 2:s=p(s,f([0,e.charCodeAt(n+1)],8));case 1:s=h(s=p(s,[0,e.charCodeAt(n)]),c),i=p(i,s=h(s=y(s,31),u))}return i=d(i=p(i,[0,e.length]),o=p(o,[0,e.length])),o=d(o,i),i=d(i=m(i),o=m(o)),o=d(o,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}function g(e){return parseInt(e)}function w(e){return parseFloat(e)}function C(e,t){return"number"==typeof e&&isNaN(e)?t:e}function v(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function S(e,t){if(void 0===t&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function E(e){return e&&"object"==typeof e&&"message"in e?e:{message:e}}function I(e){return"function"!=typeof e}function A(e,t,a){var i=Object.keys(e).filter((function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}(a,e)})),o=c(i,(function(n){return function(e,t){var n=new Promise((function(n){var r=Date.now();l(e.bind(null,t),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Date.now()-r;if(!e[0])return n((function(){return{error:E(e[1]),duration:a}}));var i=e[1];if(I(i))return n((function(){return{value:i,duration:a}}));n((function(){return new Promise((function(e){var t=Date.now();l(i,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=a+Date.now()-t;if(!n[0])return e({error:E(n[1]),duration:i});e({value:n[1],duration:i})}))}))}))}))}));return u(n),function(){return n.then((function(e){return e()}))}}(e[n],t)}));return u(o),function(){return n(this,void 0,void 0,(function(){var e,t,n,a;return r(this,(function(r){switch(r.label){case 0:return[4,o];case 1:return[4,c(r.sent(),(function(e){var t=e();return u(t),t}))];case 2:return e=r.sent(),[4,Promise.all(e)];case 3:for(t=r.sent(),n={},a=0;a<i.length;++a)n[i[a]]=t[a];return[2,n]}}))}))}}function R(){var e=window,t=navigator;return v(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function P(){var e=window,t=navigator;return v(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!R()}function W(){var e=window,t=navigator;return v(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function k(){var e=window,t=navigator;return v(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function T(){var e=window;return v(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])>=3}function O(){var e,t,n=window;return v(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function N(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function F(){var e=W(),t=O();if(!e&&!t)return!1;var n=window;return v(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])>=2}function B(e){var t=new Error(e);return t.name=e,t}function M(e,t,a){var i,s,l;return void 0===a&&(a=50),n(this,void 0,void 0,(function(){var n,c;return r(this,(function(r){switch(r.label){case 0:n=document,r.label=1;case 1:return n.body?[3,3]:[4,o(a)];case 2:return r.sent(),[3,1];case 3:c=n.createElement("iframe"),r.label=4;case 4:return r.trys.push([4,,10,11]),[4,new Promise((function(e,r){var a=!1,i=function(){a=!0,e()};c.onload=i,c.onerror=function(e){a=!0,r(e)};var o=c.style;o.setProperty("display","block","important"),o.position="absolute",o.top="0",o.left="0",o.visibility="hidden",t&&"srcdoc"in c?c.srcdoc=t:c.src="about:blank",n.body.appendChild(c);var s=function(){var e,t;a||("complete"===(null===(t=null===(e=c.contentWindow)||void 0===e?void 0:e.document)||void 0===t?void 0:t.readyState)?i():setTimeout(s,10))};s()}))];case 5:r.sent(),r.label=6;case 6:return(null===(s=null===(i=c.contentWindow)||void 0===i?void 0:i.document)||void 0===s?void 0:s.body)?[3,8]:[4,o(a)];case 7:return r.sent(),[3,6];case 8:return[4,e(c,c.contentWindow)];case 9:return[2,r.sent()];case 10:return null===(l=c.parentNode)||void 0===l||l.removeChild(c),[7];case 11:return[2]}}))}))}function L(e){for(var t=function(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),a=/^\s*([a-z-]*)(.*)$/i.exec(e),i=a[1]||void 0,o={},s=/([.:#][\w-]+|\[.+?\])/gi,l=function(e,t){o[e]=o[e]||[],o[e].push(t)};;){var c=s.exec(a[2]);if(!c)break;var u=c[0];switch(u[0]){case".":l("class",u.slice(1));break;case"#":l("id",u.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(u);if(!d)throw new Error(r);l(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(r)}}return[i,o]}(e),n=t[0],r=t[1],a=document.createElement(null!=n?n:"div"),i=0,o=Object.keys(r);i<o.length;i++){var s=o[i],l=r[s].join(" ");"style"===s?x(a.style,l):a.setAttribute(s,l)}return a}function x(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var a=r[n],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);if(i){var o=i[1],s=i[2],l=i[4];e.setProperty(o,s,l||"")}}}var _,H,D=["monospace","sans-serif","serif"],U=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function V(e){return e.toDataURL()}function j(){var e=this;return function(){if(void 0===H){var e=function(){var t=G();Z(t)?H=setTimeout(e,2500):(_=t,H=void 0)};e()}}(),function(){return n(e,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return Z(e=G())?_?[2,a([],_,!0)]:N()?[4,(n=document,(n.exitFullscreen||n.msExitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen).call(n))]:[3,2]:[3,2];case 1:t.sent(),e=G(),t.label=2;case 2:return Z(e)||(_=e),[2,e]}var n}))}))}}function G(){var e=screen;return[C(w(e.availTop),null),C(w(e.width)-w(e.availWidth)-C(w(e.availLeft),0),null),C(w(e.height)-w(e.availHeight)-C(w(e.availTop),0),null),C(w(e.availLeft),null)]}function Z(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function z(e){var t;return n(this,void 0,void 0,(function(){var n,a,i,s,l,c,u;return r(this,(function(r){switch(r.label){case 0:for(n=document,a=n.createElement("div"),i=new Array(e.length),s={},Y(a),u=0;u<e.length;++u)"DIALOG"===(l=L(e[u])).tagName&&l.show(),Y(c=n.createElement("div")),c.appendChild(l),a.appendChild(c),i[u]=l;r.label=1;case 1:return n.body?[3,3]:[4,o(50)];case 2:return r.sent(),[3,1];case 3:n.body.appendChild(a);try{for(u=0;u<e.length;++u)i[u].offsetParent||(s[e[u]]=!0)}finally{null===(t=a.parentNode)||void 0===t||t.removeChild(a)}return[2,s]}}))}))}function Y(e){e.style.setProperty("display","block","important")}function J(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function K(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function X(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function $(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function q(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var Q=Math,ee=function(){return 0},te={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},ne={fonts:function(){return M((function(e,t){var n=t.document,r=n.body;r.style.fontSize="48px";var a=n.createElement("div"),i={},o={},s=function(e){var t=n.createElement("span"),r=t.style;return r.position="absolute",r.top="0",r.left="0",r.fontFamily=e,t.textContent="mmMwWLliI0O&1",a.appendChild(t),t},l=D.map(s),c=function(){for(var e={},t=function(t){e[t]=D.map((function(e){return function(e,t){return s("'".concat(e,"',").concat(t))}(t,e)}))},n=0,r=U;n<r.length;n++)t(r[n]);return e}();r.appendChild(a);for(var u=0;u<D.length;u++)i[D[u]]=l[u].offsetWidth,o[D[u]]=l[u].offsetHeight;return U.filter((function(e){return t=c[e],D.some((function(e,n){return t[n].offsetWidth!==i[e]||t[n].offsetHeight!==o[e]}));var t}))}))},domBlockers:function(e){var t=(void 0===e?{}:e).debug;return n(this,void 0,void 0,(function(){var e,n,a,i,o;return r(this,(function(r){switch(r.label){case 0:return k()||F()?(s=atob,e={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',s("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",s("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",s("LnNwb25zb3JpdA=="),".ylamainos",s("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",s("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",s("LmhlYWRlci1ibG9ja2VkLWFk"),s("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",s("I2FkXzMwMFgyNTA="),s("I2Jhbm5lcmZsb2F0MjI="),s("I2NhbXBhaWduLWJhbm5lcg=="),s("I0FkLUNvbnRlbnQ=")],adGuardChinese:[s("LlppX2FkX2FfSA=="),s("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",s("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),s("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",s("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",s("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",s("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),s("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),s("LmFkZ29vZ2xl"),s("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[s("YW1wLWF1dG8tYWRz"),s("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",s("I2FkX2ludmlld19hcmVh")],adGuardRussian:[s("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),s("LnJlY2xhbWE="),'div[id^="smi2adblock"]',s("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[s("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),s("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",s("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),s("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),s("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",s("I3Jla2xhbWk="),s("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),s("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),s("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[s("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",s("LndpZGdldF9wb19hZHNfd2lkZ2V0"),s("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",s("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[s("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),s("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",s("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",s("I3Jla2xhbW5pLWJveA=="),s("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",s("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[s("I2FkdmVydGVudGll"),s("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",s("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",s("LnNwb25zb3JsaW5rZ3J1ZW4="),s("I3dlcmJ1bmdza3k="),s("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),s("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[s("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",s("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[s("LnJla2xhbW9zX3RhcnBhcw=="),s("LnJla2xhbW9zX251b3JvZG9z"),s("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),s("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),s("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[s("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[s("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),s("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",s("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[s("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),s("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),s("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",s("LmFkX19tYWlu"),s("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[s("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),s("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[s("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),s("I2xpdmVyZUFkV3JhcHBlcg=="),s("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),s("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[s("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",s("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),s("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),s("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[s("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),s("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),s("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",s("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),s("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),s("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),s("ZGl2I3NrYXBpZWNfYWQ=")],ro:[s("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),s("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),s("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[s("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),s("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),s("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",s("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),s("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",s("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]},n=Object.keys(e),[4,z((o=[]).concat.apply(o,n.map((function(t){return e[t]}))))]):[2,void 0];case 1:return a=r.sent(),t&&function(e,t){for(var n="DOM blockers debug:\n```",r=0,a=Object.keys(e);r<a.length;r++){var i=a[r];n+="\n".concat(i,":");for(var o=0,s=e[i];o<s.length;o++){var l=s[o];n+="\n  ".concat(t[l]?"🚫":"➡️"," ").concat(l)}}console.log("".concat(n,"\n```"))}(e,a),(i=n.filter((function(t){var n=e[t];return v(n.map((function(e){return a[e]})))>.6*n.length}))).sort(),[2,i]}var s}))}))},fontPreferences:function(){return function(e,t){return void 0===t&&(t=4e3),M((function(e,n){var r=n.document,i=r.body,o=i.style;o.width="".concat(t,"px"),o.webkitTextSizeAdjust=o.textSizeAdjust="none",W()?i.style.zoom="".concat(1/n.devicePixelRatio):k()&&(i.style.zoom="reset");var s=r.createElement("div");return s.textContent=a([],Array(t/20|0),!0).map((function(){return"word"})).join(" "),i.appendChild(s),function(e,t){for(var n={},r={},a=0,i=Object.keys(te);a<i.length;a++){var o=i[a],s=te[o],l=s[0],c=void 0===l?{}:l,u=s[1],d=void 0===u?"mmMwWLliI0fiflO&1":u,h=e.createElement("span");h.textContent=d,h.style.whiteSpace="nowrap";for(var y=0,f=Object.keys(c);y<f.length;y++){var p=f[y],m=c[p];void 0!==m&&(h.style[p]=m)}n[o]=h,t.appendChild(e.createElement("br")),t.appendChild(h)}for(var b=0,g=Object.keys(te);b<g.length;b++)r[o=g[b]]=n[o].getBoundingClientRect().width;return r}(r,i)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}()},audio:function(){var e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(k()&&!T()&&!function(){var e=window;return v(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}())return-1;var n=new t(1,5e3,44100),r=n.createOscillator();r.type="triangle",r.frequency.value=1e4;var a=n.createDynamicsCompressor();a.threshold.value=-50,a.knee.value=40,a.ratio.value=12,a.attack.value=0,a.release.value=.25,r.connect(a),a.connect(n.destination),r.start(0);var i=function(e){var t=function(){},n=new Promise((function(n,r){var a=!1,i=0,o=0;e.oncomplete=function(e){return n(e.renderedBuffer)};var l=function(){setTimeout((function(){return r(B("timeout"))}),Math.min(500,o+5e3-Date.now()))},c=function(){try{var t=e.startRendering();switch(s(t)&&u(t),e.state){case"running":o=Date.now(),a&&l();break;case"suspended":document.hidden||i++,a&&i>=3?r(B("suspended")):setTimeout(c,500)}}catch(e){r(e)}};c(),t=function(){a||(a=!0,o>0&&l())}}));return[n,t]}(n),o=i[0],l=i[1],c=o.then((function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))}),(function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e}));return u(c),function(){return l(),c}},screenFrame:function(){var e=this,t=j();return function(){return n(e,void 0,void 0,(function(){var e,n;return r(this,(function(r){switch(r.label){case 0:return[4,t()];case 1:return e=r.sent(),[2,[(n=function(e){return null===e?null:S(e,10)})(e[0]),n(e[1]),n(e[2]),n(e[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))W()&&v([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3||n.push(t.languages);else if("string"==typeof t.languages){var a=t.languages;a&&n.push(a.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return C(w(navigator.deviceMemory),void 0)},screenResolution:function(){var e=screen,t=function(e){return C(g(e),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return C(g(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,a=(r=(new Date).getFullYear(),-Math.max(w(new Date(r,0,1).getTimezoneOffset()),w(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(a>=0?"+":"").concat(Math.abs(a))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!R()&&!P())try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&k()&&!T()?function(){if("iPad"===navigator.platform)return!0;var e=screen,t=e.width/e.height;return v(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var a=[],i=0;i<r.length;++i){var o=r[i];a.push({type:o.type,suffixes:o.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:a})}}return t}},canvas:function(){var e,t,n=!1,r=function(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}(),a=r[0],i=r[1];if(function(e,t){return!(!t||!e.toDataURL)}(a,i)){n=function(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}(i),function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}(a,i);var o=V(a);o!==V(a)?e=t="unstable":(t=o,function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var a=r[n],i=a[0],o=a[1],s=a[2];t.fillStyle=i,t.beginPath(),t.arc(o,s,40,0,2*Math.PI,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd")}(a,i),e=V(a))}else e=t="";return{winding:n,geometry:e,text:t}},touchSupport:function(){var e,t=navigator,n=0;void 0!==t.maxTouchPoints?n=g(t.maxTouchPoints):void 0!==t.msMaxTouchPoints&&(n=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],a=window[r];a&&"object"==typeof a&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}},invertedColors:function(){return!!J("inverted")||!J("none")&&void 0},forcedColors:function(){return!!K("active")||!K("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return X("no-preference")?0:X("high")||X("more")?1:X("low")||X("less")?-1:X("forced")?10:void 0},reducedMotion:function(){return!!$("reduce")||!$("no-preference")&&void 0},hdr:function(){return!!q("high")||!q("standard")&&void 0},math:function(){var e,t=Q.acos||ee,n=Q.acosh||ee,r=Q.asin||ee,a=Q.asinh||ee,i=Q.atanh||ee,o=Q.atan||ee,s=Q.sin||ee,l=Q.sinh||ee,c=Q.cos||ee,u=Q.cosh||ee,d=Q.tan||ee,h=Q.tanh||ee,y=Q.exp||ee,f=Q.expm1||ee,p=Q.log1p||ee;return{acos:t(.12312423423423424),acosh:n(1e308),acoshPf:(e=1e154,Q.log(e+Q.sqrt(e*e-1))),asin:r(.12312423423423424),asinh:a(1),asinhPf:Q.log(1+Q.sqrt(2)),atanh:i(.5),atanhPf:Q.log(3)/2,atan:o(.5),sin:s(-1e300),sinh:l(1),sinhPf:Q.exp(1)-1/Q.exp(1)/2,cos:c(10.000000000123),cosh:u(1),coshPf:(Q.exp(1)+1/Q.exp(1))/2,tan:d(-1e300),tanh:h(1),tanhPf:(Q.exp(2)-1)/(Q.exp(2)+1),exp:y(1),expm1:f(1),expm1Pf:Q.exp(1)-1,log1p:p(10),log1pPf:Q.log(11),powPI:Q.pow(Q.PI,-100)}},videoCard:function(){var e,t=document.createElement("canvas"),n=null!==(e=t.getContext("webgl"))&&void 0!==e?e:t.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r)return{vendor:(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}}},pdfViewerEnabled:function(){return navigator.pdfViewerEnabled},architecture:function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}};function re(e){var t=function(e){if(F())return.4;if(k())return T()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}(e),n=function(e){return S(.99+.01*e,1e-4)}(t);return{score:t,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(n))}}function ae(e){return JSON.stringify(e,(function(e,n){return n instanceof Error?t({name:(r=n).name,message:r.message,stack:null===(a=r.stack)||void 0===a?void 0:a.split("\n")},r):n;var r,a}),2)}function ie(e){return b(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var a=r[n],i=e[a],o=i.error?"error":JSON.stringify(i.value);t+="".concat(t?"|":"").concat(a.replace(/([:|\\])/g,"\\$1"),":").concat(o)}return t}(e))}function oe(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise((function(e){return n.call(window,(function(){return e()}),{timeout:t})})):o(Math.min(e,t))}(e,2*e)}function se(e,t){var a=Date.now();return{get:function(o){return n(this,void 0,void 0,(function(){var n,s,l;return r(this,(function(r){switch(r.label){case 0:return n=Date.now(),[4,e()];case 1:return s=r.sent(),l=function(e){var t;return{get visitorId(){return void 0===t&&(t=ie(this.components)),t},set visitorId(e){t=e},confidence:re(e),components:e,version:i}}(s),(t||(null==o?void 0:o.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(l.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(n-a,"\nvisitorId: ").concat(l.visitorId,"\ncomponents: ").concat(ae(s),"\n```")),[2,l]}}))}))}}}function le(e){var t=void 0===e?{}:e,a=t.delayFallback,o=t.debug,s=t.monitoring,l=void 0===s||s;return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return l&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(i,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}(),[4,oe(a)];case 1:return e.sent(),[2,se(A(ne,{debug:o},[]),o)]}}))}))}var ce={load:le,hashComponents:ie,componentsToDebugString:ae},ue=b;return e.componentsToDebugString=ae,e.default=ce,e.getFullscreenElement=N,e.getScreenFrame=j,e.hashComponents=ie,e.isAndroid=F,e.isChromium=W,e.isDesktopSafari=T,e.isEdgeHTML=P,e.isGecko=O,e.isTrident=R,e.isWebKit=k,e.load=le,e.loadSources=A,e.murmurX64Hash128=ue,e.prepareForSources=oe,e.sources=ne,e.transformSource=function(e,t){var n=function(e){return I(e)?t(e):function(){var n=e();return s(n)?n.then(t):t(n)}};return function(t){var r=e(t);return s(r)?r.then(n):n(r)}},e.withIframe=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});const MemoryBlock=Object.freeze({MB:1048576,MB_ENC:1155625,MB10:10485760,MB100:104857600,GB:1073741824});class ProgressBarWidget{constructor(e,t,n){this.pbContainer=e,this.pbProgress=t,this.pbProgressPercentage=n}reset(){this.setProgress(0)}setProgress(e){this.pbProgress.value=e,this.pbProgressPercentage.textContent=`${e}%`}}function delay(e){return new Promise((t=>setTimeout(t,e)))}function isMobile(){const e=/Mobi|Android/i.test(navigator.userAgent),t=window.innerWidth<=800&&window.innerHeight<=1280,n="ontouchstart"in window||navigator.maxTouchPoints>0;return e&&t&&n}function isStringPresentNumber(e){return/^-?\d+$/.test(e.trim())}function isBase64(e){if("string"!=typeof e||0===e.length)return!1;const t=e.replace(/[-_]/g,"");if(t.length%4!=0)return!1;return/^[A-Za-z0-9+/]*={0,2}$/.test(t)}function generateStrongPassword(e=12){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="abcdefghijklmnopqrstuvwxyz",r="0123456789",a="!@#$%^&*()-_=+[]{}|;:',.<>?",i=t+n+r+a;let o="";o+=t.charAt(Math.floor(26*Math.random())),o+=n.charAt(Math.floor(26*Math.random())),o+=r.charAt(Math.floor(10*Math.random())),o+=a.charAt(Math.floor(27*Math.random()));for(let t=4;t<e;t++)o+=i.charAt(Math.floor(Math.random()*i.length));return o=o.split("").sort((()=>Math.random()-.5)).join(""),o}function convertBlobToArrayBuffer(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=function(e){const n=e.target.result;t(n)},r.onerror=function(e){n(e)},r.readAsArrayBuffer(e)}))}function formatString(e,...t){return e.replace(/{(\d+)}/g,(function(e,n){return void 0!==t[n]?t[n]:e}))}function calculateStringHashCode(e){const t=(new TextEncoder).encode(e);let n=0;for(const e of t)n=31*n+(255&e),n|=0;return n}function stringToByteArray(e){return(new TextEncoder).encode(e)}function stringToArrayBuffer(e){return(new TextEncoder).encode(e).buffer}function arrayBufferToString(e){return new TextDecoder("utf-8").decode(e)}function byteArrayToString(e){return(new TextDecoder).decode(e)}function intToBytes(e){const t=new ArrayBuffer(4);new DataView(t).setInt32(0,e,!1);const n=new Int8Array(t);return Array.from(n)}function bytesToInt(e){if(4!==e.byteLength)throw new Error("Invalid byte array length. Must be 4 bytes.");return new DataView(e).getInt32(0,!1)}function shortIntToBytes(e){if(e<0||e>255)throw new RangeError("Integer must be in the range 0 to 255.");const t=new Uint8Array(1);return t[0]=e,t}function bytesToShortInt(e){if(1!==e.byteLength)throw new Error(`Invalid byte array length ${e.byteLength}. Must be 1 byte.`);return new DataView(e).getInt8(0)}function booleanToBytes(e){return shortIntToBytes(e?1:0)}function bytesToBoolean(e){return 1===bytesToShortInt(e)}function uuidToBytes(e){const t=uuid.parse(e),n=new ArrayBuffer(16),r=new DataView(n);for(let e=0;e<16;e++)r.setUint8(e,t[e]);let a=0n,i=0n;for(let e=0;e<8;e++)a=a<<8n|BigInt(r.getUint8(e));for(let e=8;e<16;e++)i=i<<8n|BigInt(r.getUint8(e));r.setBigUint64(0,a,!1),r.setBigUint64(8,i,!1);const o=new Int8Array(n);return Array.from(o)}function bytesToUuid(e){e=new Uint8Array(e);const t=new DataView(e.buffer),n=t.getBigUint64(0,!1),r=t.getBigUint64(8,!1),a=n.toString(16).padStart(16,"0"),i=r.toString(16).padStart(16,"0");return`${a.substring(0,8)}-${a.substring(8,12)}-${a.substring(12,16)}-${i.substring(0,4)}-${i.substring(4,16)}`}function bytesToArrayBuffer(e){const t=new ArrayBuffer(e.length);return new Uint8Array(t).set(e),t}function concatArrayBuffers(e){const t=e.reduce(((e,t)=>e+t.byteLength),0),n=new ArrayBuffer(t),r=new Uint8Array(n);let a=0;return e.forEach((e=>{const t=new Uint8Array(e);r.set(t,a),a+=e.byteLength})),n}function arrayBuffersAreEqual(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1;return!0}function concatenateByteArrays(...e){let t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t),r=0;return e.forEach((e=>{n.set(e,r),r+=e.length})),n}function copyBytes(e,t,n){if(t<0||n>e.byteLength||t>n)throw new RangeError("Invalid start or end index.");return e.slice(t,n)}function shiftFirstNBytes(e,t){if(t>=e.byteLength)return new ArrayBuffer(0);const n=new ArrayBuffer(e.byteLength-t),r=new Uint8Array(e);return new Uint8Array(n).set(r.subarray(t)),n}function splitArrayBuffer(e,t){const n=[],r=Math.ceil(e.byteLength/t);for(let a=0;a<r;a++){const r=a*t,i=Math.min(r+t,e.byteLength),o=e.slice(r,i);n.push(o)}return n}function popFirstNBytesFromArrayBuffer(e,t){return new Uint8Array(e).slice(0,t).buffer}function removeFirstNBytesFromArrayBuffer(e,t){return new Uint8Array(e).slice(t).buffer}function isNotEmpty(e){return null!=e&&void 0!==e&&""!==e}function isEmpty(e){return!isNotEmpty(e)}function isArrayNotEmpty(e){return null!=e&&Array.isArray(e)&&e.length>0}function isArrayEmpty(e){return!isNotEmpty(e)}function extractNumber(e){const t=e.match(/\d+/);return t?parseInt(t[0],10):null}function printDateTime(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function printPreciseDateTime(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`}function printObject(e){return Object.values(e).filter((e=>null!=e)).join("/")}function encodeToBase64UrlSafe(e){const t=(new TextEncoder).encode(e),n=String.fromCharCode.apply(null,t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function decodeFromBase64UrlSafe(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";const n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return(new TextDecoder).decode(r)}async function blobToArrayBuffers(e,t){const n=[],r=e.size;let a=0;for(;a<r;){const r=e.slice(a,a+t),i=await r.arrayBuffer();n.push(i),a+=t}return n}function getFileExtension(e){const t=e.split(".");return t.length>1?t.pop():""}function downloadFile(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}function hasParentWithIdOrClass(e,t){if(!(e instanceof Element&&Array.isArray(t)&&0!==t.length))return!1;for(let n=0;n<t.length;n++){let r=e.closest(`#${t[n]}`);if(r)return!0;if(r=e.closest(`.${t[n]}`),r)return!0}return!1}function swapElements(e,t){if(!e||!t)return void console.error("One or both elements not found.");const n=document.createElement("div");e.parentNode.insertBefore(n,e),t.parentNode.insertBefore(e,t),n.parentNode.insertBefore(t,n),n.parentNode.removeChild(n)}function printAllParents(e,t){const n=t||1e3;let r=e.parentElement,a=0;for(;r;){if(a+=1,console.log(`Parent: level=${a}, height=${r.getBoundingClientRect().height}`),console.log(r),a>n)return;r=r.parentElement}}function getCountryWithFlagInnerHtml(e,t){return`<div style="display: flex"> <img style="margin-right: 10px; border: 1px solid black;" src="${`https://flagcdn.com/w40/${e.toLowerCase()}.png`}" alt="Estonia Flag" /> ${t}</div>`}function getCountryFlagImage(e){const t={en:"us",es:"es",fr:"fr",de:"de",zh:"cn",ru:"ru",ja:"jp",it:"it",pt:"pt",ar:"sa",hi:"in",ko:"kr",tr:"tr",nl:"nl",sv:"se",pl:"pl",vi:"vn",id:"id",th:"th",uk:"ua",ms:"my",tl:"ph",fa:"ir",ro:"ro",hu:"hu",cs:"cz",el:"gr",da:"dk",fi:"fi",no:"no"}[e];return t?`<img src="https://flagcdn.com/${t}.svg" alt="${e}" class="flag">`:'<span class="flag">🏳️</span>'}async function requestWakeLock(e){if(isMobile())try{e.wakeLock=await navigator.wakeLock.request("screen"),console.log("Wake lock is active."),e.wakeLock.addEventListener("release",(()=>{console.log("Wake lock was released.")}))}catch(e){console.error(`Failed to request wake lock: ${e.message}`)}}function releaseWakeLock(e){isMobile()&&null!==e.wakeLock&&e.wakeLock.release().then((()=>{e.wakeLock=null,console.log("Wake lock has been released.")}))}function calculateVisibilityData(e){if(!e||!e.getBoundingClientRect)return null;const t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),a=Math.max(0,t.left),i=Math.max(0,t.top),o=Math.min(n,t.right),s=Math.min(r,t.bottom),l=Math.max(0,o-a),c=Math.max(0,s-i),u=t.width||t.right-t.left,d=t.height||t.bottom-t.top;if(u<=0||d<=0)return{rect:t,visibilityRatio:0,visibilityPercentage:0,isVisible:!1,viewportWidth:n,viewportHeight:r};const h=l*c/(u*d);return{rect:t,visibilityRatio:h,visibilityPercentage:Math.round(100*h),isVisible:h>0,viewportWidth:n,viewportHeight:r}}function isElementFullyVisible(e,t){t||(t={});const n="number"==typeof t.threshold?t.threshold:1,r="number"==typeof t.rootMargin?t.rootMargin:0,a=calculateVisibilityData(e);if(!a)return console.warn("Invalid element provided to isElementFullyVisible"),!1;if(0!==r){const e={top:a.rect.top+r,left:a.rect.left+r,bottom:a.rect.bottom-r,right:a.rect.right-r};return e.top>=0&&e.left>=0&&e.bottom<=a.viewportHeight&&e.right<=a.viewportWidth&&a.visibilityRatio>=n}return a.visibilityRatio>=n}function observeElementVisibility(e,t,n){if(n||(n={}),!window.IntersectionObserver){console.warn("IntersectionObserver not supported, using fallback method");const r=function(){const r=isElementFullyVisible(e,n);t(r,e)},a=setInterval(r,100);return r(),{disconnect:function(){clearInterval(a)},unobserve:function(){clearInterval(a)}}}const r=new IntersectionObserver((function(e){e.forEach((function(e){const r=e.intersectionRatio>=(n.threshold||1);t(r,e.target,e)}))}),{threshold:n.threshold||1,rootMargin:n.rootMargin||"0px"});return r.observe(e),r}function isFullyVisible(e){return"string"==typeof e&&(e=document.querySelector(e)),isElementFullyVisible(e)}function isPartiallyVisible(e){return"string"==typeof e&&(e=document.querySelector(e)),isElementFullyVisible(e,{threshold:0})}function getVisibilityPercentage(e){"string"==typeof e&&(e=document.querySelector(e));const t=calculateVisibilityData(e);return t?t.visibilityPercentage:0}function getVisibilityInfo(e){return"string"==typeof e&&(e=document.querySelector(e)),calculateVisibilityData(e)}function isImageContentType(e){return e&&e.startsWith("image")}function isVideoContentType(e){return e&&e.startsWith("video")}function isImageFile(e){return e&&e instanceof File&&isImageContentType(e.type)}function isVideoFile(e){return e&&e instanceof File&&isVideoContentType(e.type)}console.log("callable-future.js running on",window.location.href);const CallableFuture={},WaiterResponseType=Object.freeze({SUCCESS:"SUCCESS",ERROR:"ERROR"});class Waiter{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class WaiterResponse{constructor(e,t){this.type=e,this.body=t}}CallableFuture.releaseWaiterWithSuccess=function(e,t){e.resolve(new WaiterResponse(WaiterResponseType.SUCCESS,t))},CallableFuture.releaseWaiterWithError=function(e,t){e.reject(new WaiterResponse(WaiterResponseType.ERROR,t))},CallableFuture.waitingHall=new Map,CallableFuture.addToWaitingHall=function(e){let t=new Waiter;return CallableFuture.waitingHall.set(e,t),t.promise},CallableFuture.releaseWaiterIfExistsWithSuccess=function(e,t){let n=CallableFuture.waitingHall.get(e);return!!n&&(CallableFuture.releaseWaiterWithSuccess(n,t),CallableFuture.waitingHall.delete(e),!0)},CallableFuture.releaseWaiterIfExistsWithError=function(e,t){let n=CallableFuture.waitingHall.get(e);n&&(CallableFuture.releaseWaiterWithError(n,t),CallableFuture.waitingHall.delete(e))},CallableFuture.callAsynchronouslyWithRepeatOfFailure=async function(e,t,n,r,a=!1){let i;for(let o=0;o<n;o++){if(a&&PushcaClient.uploadBinaryLimitWasReached)return new WaiterResponse(WaiterResponseType.ERROR,"uploadBinaryLimitWasReached");if(i=await CallableFuture.callAsynchronously(e,t,r),WaiterResponseType.SUCCESS===i.type)return i}return i},CallableFuture.callAsynchronously=async function(e,t,n){const r=e||1e3;const a=t||uuid.v4().toString();let i;"function"==typeof n&&n(a);try{i=await Promise.race([CallableFuture.addToWaitingHall(a),(o=r,new Promise(((e,t)=>{setTimeout((()=>t(new Error("Timeout after "+o+" ms"))),o)})))])}catch(e){CallableFuture.waitingHall.delete(a),i=new WaiterResponse(WaiterResponseType.ERROR,e)}var o;return i},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).uuid={})}(this,(function(e){"use strict";var t,n=new Uint8Array(16);function r(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(n)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function i(e){return"string"==typeof e&&a.test(e)}for(var o,s,l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!i(n))throw TypeError("Stringified UUID is invalid");return n}var d=0,h=0;function y(e){if(!i(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function f(e,t,n){function r(e,r,a,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=y(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,a){i=i||0;for(var s=0;s<16;++s)a[i+s]=o[s];return a}return u(o)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function p(e){return 14+(e+64>>>9<<4)+1}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function b(e,t,n,r,a,i){return m((o=m(m(t,e),m(r,i)))<<(s=a)|o>>>32-s,n);var o,s}function g(e,t,n,r,a,i,o){return b(t&n|~t&r,e,t,a,i,o)}function w(e,t,n,r,a,i,o){return b(t&r|n&~r,e,t,a,i,o)}function C(e,t,n,r,a,i,o){return b(t^n^r,e,t,a,i,o)}function v(e,t,n,r,a,i,o){return b(n^(t|~r),e,t,a,i,o)}var S=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",a=0;a<n;a+=8){var i=e[a>>5]>>>a%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[p(t)-1]=t;for(var n=1732584193,r=-271733879,a=-1732584194,i=271733878,o=0;o<e.length;o+=16){var s=n,l=r,c=a,u=i;n=g(n,r,a,i,e[o],7,-680876936),i=g(i,n,r,a,e[o+1],12,-389564586),a=g(a,i,n,r,e[o+2],17,606105819),r=g(r,a,i,n,e[o+3],22,-1044525330),n=g(n,r,a,i,e[o+4],7,-176418897),i=g(i,n,r,a,e[o+5],12,1200080426),a=g(a,i,n,r,e[o+6],17,-1473231341),r=g(r,a,i,n,e[o+7],22,-45705983),n=g(n,r,a,i,e[o+8],7,1770035416),i=g(i,n,r,a,e[o+9],12,-1958414417),a=g(a,i,n,r,e[o+10],17,-42063),r=g(r,a,i,n,e[o+11],22,-1990404162),n=g(n,r,a,i,e[o+12],7,1804603682),i=g(i,n,r,a,e[o+13],12,-40341101),a=g(a,i,n,r,e[o+14],17,-1502002290),n=w(n,r=g(r,a,i,n,e[o+15],22,1236535329),a,i,e[o+1],5,-165796510),i=w(i,n,r,a,e[o+6],9,-1069501632),a=w(a,i,n,r,e[o+11],14,643717713),r=w(r,a,i,n,e[o],20,-373897302),n=w(n,r,a,i,e[o+5],5,-701558691),i=w(i,n,r,a,e[o+10],9,38016083),a=w(a,i,n,r,e[o+15],14,-660478335),r=w(r,a,i,n,e[o+4],20,-405537848),n=w(n,r,a,i,e[o+9],5,568446438),i=w(i,n,r,a,e[o+14],9,-1019803690),a=w(a,i,n,r,e[o+3],14,-187363961),r=w(r,a,i,n,e[o+8],20,1163531501),n=w(n,r,a,i,e[o+13],5,-1444681467),i=w(i,n,r,a,e[o+2],9,-51403784),a=w(a,i,n,r,e[o+7],14,1735328473),n=C(n,r=w(r,a,i,n,e[o+12],20,-1926607734),a,i,e[o+5],4,-378558),i=C(i,n,r,a,e[o+8],11,-2022574463),a=C(a,i,n,r,e[o+11],16,1839030562),r=C(r,a,i,n,e[o+14],23,-35309556),n=C(n,r,a,i,e[o+1],4,-1530992060),i=C(i,n,r,a,e[o+4],11,1272893353),a=C(a,i,n,r,e[o+7],16,-155497632),r=C(r,a,i,n,e[o+10],23,-1094730640),n=C(n,r,a,i,e[o+13],4,681279174),i=C(i,n,r,a,e[o],11,-358537222),a=C(a,i,n,r,e[o+3],16,-722521979),r=C(r,a,i,n,e[o+6],23,76029189),n=C(n,r,a,i,e[o+9],4,-640364487),i=C(i,n,r,a,e[o+12],11,-421815835),a=C(a,i,n,r,e[o+15],16,530742520),n=v(n,r=C(r,a,i,n,e[o+2],23,-995338651),a,i,e[o],6,-198630844),i=v(i,n,r,a,e[o+7],10,1126891415),a=v(a,i,n,r,e[o+14],15,-1416354905),r=v(r,a,i,n,e[o+5],21,-57434055),n=v(n,r,a,i,e[o+12],6,1700485571),i=v(i,n,r,a,e[o+3],10,-1894986606),a=v(a,i,n,r,e[o+10],15,-1051523),r=v(r,a,i,n,e[o+1],21,-2054922799),n=v(n,r,a,i,e[o+8],6,1873313359),i=v(i,n,r,a,e[o+15],10,-30611744),a=v(a,i,n,r,e[o+6],15,-1560198380),r=v(r,a,i,n,e[o+13],21,1309151649),n=v(n,r,a,i,e[o+4],6,-145523070),i=v(i,n,r,a,e[o+11],10,-1120210379),a=v(a,i,n,r,e[o+2],15,718787259),r=v(r,a,i,n,e[o+9],21,-343485551),n=m(n,s),r=m(r,l),a=m(a,c),i=m(i,u)}return[n,r,a,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(p(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));function E(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function I(e,t){return e<<t|e>>>32-t}var A=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var a=0;a<r.length;++a)e.push(r.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),s=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];s[l]=c}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<o;++d){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=s[d][y];for(var f=16;f<80;++f)h[f]=I(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var p=n[0],m=n[1],b=n[2],g=n[3],w=n[4],C=0;C<80;++C){var v=Math.floor(C/20),S=I(p,5)+E(v,m,b,g)+w+t[v]+h[C]>>>0;w=g,g=b,b=I(m,30)>>>0,m=p,p=S}n[0]=n[0]+p>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+w>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));e.NIL="00000000-0000-0000-0000-000000000000",e.parse=y,e.stringify=u,e.v1=function(e,t,n){var a=t&&n||0,i=t||new Array(16),l=(e=e||{}).node||o,c=void 0!==e.clockseq?e.clockseq:s;if(null==l||null==c){var y=e.random||(e.rng||r)();null==l&&(l=o=[1|y[0],y[1],y[2],y[3],y[4],y[5]]),null==c&&(c=s=16383&(y[6]<<8|y[7]))}var f=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:h+1,m=f-d+(p-h)/1e4;if(m<0&&void 0===e.clockseq&&(c=c+1&16383),(m<0||f>d)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=f,h=p,s=c;var b=(1e4*(268435455&(f+=122192928e5))+p)%4294967296;i[a++]=b>>>24&255,i[a++]=b>>>16&255,i[a++]=b>>>8&255,i[a++]=255&b;var g=f/4294967296*1e4&268435455;i[a++]=g>>>8&255,i[a++]=255&g,i[a++]=g>>>24&15|16,i[a++]=g>>>16&255,i[a++]=c>>>8|128,i[a++]=255&c;for(var w=0;w<6;++w)i[a+w]=l[w];return t||u(i)},e.v3=S,e.v4=function(e,t,n){var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=a[i];return t}return u(a)},e.v5=A,e.validate=i,e.version=function(e){if(!i(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)},Object.defineProperty(e,"__esModule",{value:!0})}));const JoinTransferGroupResponse=Object.freeze({DENIED:"DENIED",ERROR:"ERROR"});class CreatePrivateUrlSuffixRequest{constructor(e,t){this.workspaceId=e,this.binaryId=t}}class JoinTransferGroupRequest{constructor(e,t,n,r){this.deviceId=e,this.sessionId=t,this.publicKeyStr=n,this.binaryId=r}cloneAndReplacePublicKey(e){return new JoinTransferGroupRequest(this.deviceId,this.sessionId,e,this.binaryId)}static fromJsonString(e){const t="string"==typeof e?JSON.parse(e):e;return new JoinTransferGroupRequest(t.deviceId,t.sessionId,t.publicKeyStr,t.binaryId)}}class DownloadProtectedBinaryRequest{constructor(e,t,n,r,a){this.suffix=e,this.exp=t,this.signature=n,this.binaryId=r,this.passwordHash=a}toSkipSignatureJSON(){return{suffix:this.suffix,exp:this.exp}}static fromJsonString(e){const t="string"==typeof e?JSON.parse(e):e;return new DownloadProtectedBinaryRequest(t.suffix,t.exp,t.signature,t.binaryId)}}class EncryptionContract{constructor(e,t){this.base64Key=e,this.base64IV=t}async toTransferableString(e,t){const n=await encryptPrivateKey(this.base64Key,this.base64IV,e,t);return encodeToBase64UrlSafe(JSON.stringify({base64Key:n,base64IV:this.base64IV}))}static async fromTransferableString(e,t,n){const r=decodeFromBase64UrlSafe(e),a="string"==typeof r?JSON.parse(r):r,i=await decryptPrivateKey(a.base64Key,t,n,a.base64IV);return new EncryptionContract(i,a.base64IV)}}async function calculateSignatureSha256(e){const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}async function calculateSha256(e){const t=await crypto.subtle.digest("SHA-256",e),n=Array.from(new Uint8Array(t));return btoa(String.fromCharCode.apply(null,n))}async function generateKeyFromPassword(e,t){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},r,{name:"HMAC",hash:"SHA-256",length:256},!0,["sign","verify"])}async function generateAESKeyFromPassword(e,t){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function verifySignatureWithKey(e,t,n){const r=(new TextEncoder).encode(t),a=urlSafeBase64ToArrayBuffer(n);return await crypto.subtle.verify("HMAC",e,a,r)}async function makeSignature(e,t,n){const r=await generateKeyFromPassword(e,t);return await signString(r,n)}async function verifySignature(e,t,n,r){const a=await generateKeyFromPassword(e,t);return await verifySignatureWithKey(a,n,r)}async function signString(e,t){const n=(new TextEncoder).encode(t);return await crypto.subtle.sign("HMAC",e,n)}async function createPrivateUrlSuffix(e,t){const n=await fetch(PushcaClient.clusterBaseUrl+"/binary/private/create-url-suffix",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(new CreatePrivateUrlSuffixRequest(e,t))});return n.ok?n.text():(console.error("Failed create private URL suffix request "+n.statusText),null)}function byteArrayToBase64(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return window.btoa(t)}function arrayBufferToBase64(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let e=0;e<r;e++)t+=String.fromCharCode(n[e]);return window.btoa(t)}function arrayBufferToUrlSafeBase64(e){return arrayBufferToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function base64ToArrayBuffer(e){const t=window.atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return r.buffer}function urlSafeBase64ToArrayBuffer(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return base64ToArrayBuffer(t.padEnd(t.length+(4-t.length%4)%4,"="))}async function generateEncryptionContract(){const e=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),t=window.crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.exportKey("raw",e);return new EncryptionContract(arrayBufferToBase64(n),arrayBufferToBase64(t))}async function encryptWithAES(e){const t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),n=window.crypto.getRandomValues(new Uint8Array(12)),r=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e),a=await crypto.subtle.exportKey("raw",t);return{encryptionContract:new EncryptionContract(arrayBufferToBase64(a),arrayBufferToBase64(n)),data:new Blob([new Uint8Array(r)],{type:"application/octet-stream"}),dataBase64:arrayBufferToBase64(r)}}async function encryptWithAESUsingContract(e,t){const n=base64ToArrayBuffer(t.base64Key),r=base64ToArrayBuffer(t.base64IV),a=await crypto.subtle.importKey("raw",n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);return await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},a,e)}async function encryptBinaryChunk(e,t,n=MemoryBlock.MB_ENC,r=0){const a=await encryptWithAESUsingContract(e,t),i=concatArrayBuffers([bytesToArrayBuffer(intToBytes(a.byteLength)),a]);if(i.byteLength>n)return alert("Encrypted block is too big!!!"),i;if(i.byteLength===n)return i;const o=new ArrayBuffer(n),s=new Uint8Array(o),l=new Uint8Array(i);return s.set(l),s.fill(r,i.byteLength),o}async function encryptSlicesWithAES(e){return await encryptWithAES(concatArrayBuffers(e))}async function decryptBinaryChunk(e,t,n=4){if(e.byteLength<n)throw new Error("Buffer is too small to contain the length integer.");const r=bytesToInt(e.slice(0,n));if(r>e.byteLength-n)throw new Error("Invalid length or buffer, it is too small for the given length.");const a=new ArrayBuffer(r),i=new Uint8Array(a),o=new Uint8Array(e);return i.set(o.slice(n,n+r)),await decryptAESToArrayBuffer(a,t.base64Key,t.base64IV)}async function decryptAESToArrayBuffer(e,t,n){const r=await crypto.subtle.importKey("raw",base64ToArrayBuffer(t),{name:"AES-GCM"},!1,["decrypt"]),a=base64ToArrayBuffer(n);try{return await crypto.subtle.decrypt({name:"AES-GCM",iv:a},r,e)}catch(e){console.error("Error during decryption:",e)}}async function decryptChunkByChunk(e,t){const n=[],r=concatArrayBuffers(e);if(r.byteLength<MemoryBlock.MB_ENC)throw new Error("Buffer is too small to contain encrypted block.");const a=splitArrayBuffer(r,MemoryBlock.MB_ENC);for(let e=0;e<a.length;e++){const r=await decryptBinaryChunk(a[e],t);n.push(r)}return new Blob(n,{type:"application/octet-stream"})}async function decryptAES(e,t,n,r="application/octet-stream"){const a=concatArrayBuffers(e),i=await decryptAESToArrayBuffer(a,t,n);return new Blob([new Uint8Array(i)],{type:r})}async function encryptPrivateKey(e,t,n,r){const a=base64ToArrayBuffer(e),i=base64ToArrayBuffer(t),o=await generateAESKeyFromPassword(n,r);return arrayBufferToBase64(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},o,a))}async function decryptPrivateKey(e,t,n,r){const a=base64ToArrayBuffer(e),i=base64ToArrayBuffer(r),o=await generateAESKeyFromPassword(t,n);return arrayBufferToBase64(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},o,a))}async function generateRSAKeyPair(){return await crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}async function encryptWithPublicKey(e,t){const n=(new TextEncoder).encode(t),r=await crypto.subtle.encrypt({name:"RSA-OAEP"},e,n);return btoa(String.fromCharCode(...new Uint8Array(r)))}async function decryptWithPrivateKey(e,t){const n=Uint8Array.from(atob(t),(e=>e.charCodeAt(0))),r=await crypto.subtle.decrypt({name:"RSA-OAEP"},e,n);return(new TextDecoder).decode(r)}async function exportPublicKey(e){const t=await crypto.subtle.exportKey("spki",e);return btoa(String.fromCharCode(...new Uint8Array(t)))}async function importPublicKeyFromString(e){const t=Uint8Array.from(atob(e),(e=>e.charCodeAt(0)));return crypto.subtle.importKey("spki",t.buffer,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"])}function splitArrayAndExtractMiddle(e){const t=[],n=Math.ceil(e.length/8);for(let r=0;r<8;r++){const a=r*n,i=Math.min(a+n,e.length),o=e.slice(a,i);if(0===o.length)continue;const s=o[Math.floor(o.length/2)];t.push(s)}return t}function hexPairsToSetOfIntegers(e){const t=new Set,n=[];return e.forEach((e=>{const r=parseInt(e,16);t.has(r)||(t.add(r),n.push(r))})),n}function convertToHexPairs(e){const t=[];for(let n=0;n<e.length;n+=2){const r=e.substring(n,n+2);t.push(r)}return t}async function generateHashAndConvertToReadableSignature(e){return convertHashToReadableSignature(await calculateSignatureSha256(e))}function convertHashToReadableSignature(e){return convertToReadableSignature(convertToHexPairs(e))}function convertToReadableSignature(e){const t=splitArrayAndExtractMiddle(hexPairsToSetOfIntegers(e)),n=[];let r=0;for(let e=0;e<t.length;e++){const a=t[e];r+=a,0===e&&n.push(adjectives[a%256]),1===e&&(n.push(nouns[a%256]),n.push("and")),2===e&&n.push(adjectives[a%256]),3===e&&n.push(nouns[a%256]),4===e&&(n.push(verbs[a%256]),n.push(prepositions[r%64])),5===e&&n.push(adjectives[a%256]),6===e&&n.push(nouns[a%256]),7===e&&n.push(adverbs[a%256])}return n.join(" ")}prepositions=["about","above","across","after","against","along","amid","among","around","as","at","before","behind","below","beneath","beside","besides","between","beyond","but","by","concerning","despite","down","during","except","for","from","in","inside","into","like","near","of","off","on","onto","opposite","out","outside","over","past","per","regarding","round","save","since","than","through","till","to","toward","towards","under","underneath","unlike","until","up","upon","versus","via","with","within","without"],adverbs=["abroad","absolutely","accidentally","actually","almost","already","always","angrily","anxiously","anywhere","approximately","around","awkwardly","badly","barely","beautifully","bitterly","blindly","boldly","bravely","briefly","brightly","briskly","broadly","busily","calmly","carefully","carelessly","certainly","clearly","cleverly","closely","coincidentally","completely","constantly","correctly","courageously","curiously","currently","daily","deliberately","delightfully","diligently","directly","doubtfully","eagerly","early","easily","effectively","efficiently","elsewhere","enough","entirely","especially","essentially","even","eventually","exactly","exceedingly","exclusively","extremely","fairly","faithfully","far","fast","fatally","fiercely","finally","firmly","frequently","fully","furiously","generally","generously","gently","genuinely","gradually","greatly","happily","hard","hardly","hastily","heartily","heavily","helpfully","here","highly","honestly","hopefully","hourly","however","hungrily","immediately","incredibly","indeed","initially","instantly","intensely","intentionally","interestingly","internally","ironically","joyfully","just","kindly","late","lately","later","lazily","less","likely","literally","little","loudly","lovingly","low","luckily","mainly","maybe","meanwhile","merely","merrily","mightily","more","moreover","mostly","much","naturally","nearly","neatly","necessarily","never","newly","next","nicely","nightly","noisily","normally","now","nowhere","obviously","occasionally","oddly","often","only","openly","particularly","partly","perhaps","perfectly","permanently","personally","physically","plainly","poorly","possibly","potentially","precisely","previously","primarily","probably","promptly","properly","punctually","purely","quickly","quietly","quite","randomly","rarely","really","recently","regularly","relatively","reluctantly","remarkably","repeatedly","roughly","rudely","ruthlessly","sadly","safely","seldom","selfishly","seriously","sharply","shortly","significantly","silently","simply","sincerely","slightly","slowly","smoothly","softly","solely","specially","specifically","spectacularly","spontaneously","steadily","still","strangely","strictly","strongly","subsequently","substantially","successfully","suddenly","sufficiently","surprisingly","suspiciously","swiftly","sympathetically","thoroughly","timely","together","tomorrow","too","totally","typically","ultimately","unconditionally","undoubtedly","unfortunately","uniformly","uniquely","universally","usually","utterly","vaguely","vehemently","verbally","very","viciously","victoriously","violently","virtually","visibly","vividly","voluntarily","warmly","weakly","wearily","well","widely","wildly","willingly","wisely","wistfully","wonderfully","worriedly","wrongly","yearly","youthfully","zealously"],verbs=["accept","allow","ask","believe","borrow","break","bring","buy","can","cancel","change","clean","comb","complain","cough","count","cut","dance","draw","drink","drive","eat","explain","fall","fill","find","finish","fit","fix","fly","forget","give","go","have","hear","hurt","know","learn","leave","listen","live","look","lose","make","need","open","close","pay","play","put","rain","read","reply","run","say","see","sell","send","sign","sing","sit","sleep","smoke","speak","spell","spend","stand","start","stop","study","succeed","swim","take","talk","teach","tell","think","translate","travel","try","turn","type","understand","use","wait","wake","walk","want","watch","work","worry","write","become","begin","call","come","do","feel","get","help","keep","kill","let","like","hate","love","move","show","shut","sing","think","throw","touch","turn","understand","win","admire","admit","advise","afford","agree","alert","alight","amuse","analyze","announce","annoy","answer","apologize","appear","applaud","appreciate","approve","argue","arrange","arrest","arrive","ask","attach","attack","attempt","attend","attract","avoid","back","bake","balance","ban","bang","bare","bat","bathe","battle","beam","beg","behave","belong","bleach","bless","blind","blink","blot","blush","boast","boil","bolt","bomb","book","bore","borrow","buzz","calculate","call","camp","care","carry","carve","cause","challenge","change","charge","chase","cheat","check","cheer","chew","choke","chop","claim","clap","clean","clear","clip","close","coach","coil","collect","colour","comb","command","communicate","compare","compete","contain","continue","copy","correct","cough","count","cover","crack","crash","crawl","cross","deceive","decide","decorate","delay","delight","deliver","depend","describe","desert","deserve","destroy","detect","develop","disagree","disappear","disapprove","disarm","discover","dislike","divide","double","doubt","drag","drain","dream","dress","drip","drop","drown","drum","dry","dust","earn","eat","echo","educate","embarrass","employ","empty","encourage","end","enjoy"],nouns=["apple","baby","car","dog","elephant","flower","garden","house","island","jewel","kite","lemon","mountain","night","ocean","piano","queen","river","star","tree","umbrella","volcano","water","xylophone","yacht","zebra","air","ball","cat","door","egg","frog","grass","hat","ice","jacket","key","lamp","moon","net","orange","pen","quilt","rose","sun","tiger","unicorn","violin","wolf","box","clock","dragon","forest","hill","igloo","jar","kangaroo","ladder","mushroom","noodle","owl","parrot","robot","snake","tomato","universe","village","whale","x-ray","yard","zipper","book","chair","desk","envelope","fish","globe","hammer","ink","juice","kiwi","leaf","mirror","nose","oyster","peach","question","rabbit","sandwich","turtle","vase","window","xenon","yarn","zero","arm","boot","ceiling","diamond","escalator","feather","guitar","hook","ice-cream","jet","kettle","lion","map","neck","octopus","popcorn","quarter","rock","spoon","tablet","unicorn","vacuum","wall","xbox","yo-yo","zoo","angel","brain","cloud","devil","echo","flame","ghost","heart","iron","judge","king","leaf","mask","needle","opera","pearl","quest","ring","shadow","torch","umbrella","victory","window","exile","youth","zealot","arch","bridge","canyon","desert","eclipse","flute","glacier","harbor","island","jungle","knight","library","mountain","novel","ocean","prairie","queen","river","sunset","tree","university","valley","waterfall","xylophone","yacht","zoo","actor","baker","crafter","dancer","engineer","farmer","guard","hero","inventor","jester","king","lawyer","miner","nurse","officer","painter","queen","rider","singer","teacher","umpire","vendor","writer","xenophobe","yogi","zealot","alchemy","breeze","crescent","dawn","ember","forest","grove","hollow","iceberg","jewel","kaleidoscope","labyrinth","meadow","nebula","oracle","pinnacle","quartz","reef","silhouette","tundra","utopia","vortex","wisp","xenolith","yarrow","zenith","avalanche","blizzard","cyclone","delta","equinox","fjord","glade","hurricane","inlet","jetty","kelp","lagoon","monsoon","nadir","oasis","plateau","quagmire","ridge","strait","tide","updraft","volcano","watershed","service","yardarm","zeppelin","crocodile","fighter","looser","mosquito","boat"],adjectives=["able","bad","best","better","big","black","certain","clear","different","early","easy","economic","federal","free","full","good","great","hard","high","human","important","international","large","late","little","local","long","low","major","military","national","new","old","only","other","political","possible","public","real","recent","right","small","social","special","strong","sure","true","white","whole","young","active","actual","amazing","angry","annual","available","basic","beautiful","blue","broad","brown","cheap","clean","cold","commercial","common","complete","complex","concerned","cool","corporate","critical","current","dark","deep","democratic","different","difficult","due","early","economic","effective","efficient","entire","excellent","exciting","existing","expensive","familiar","famous","far","fast","favorite","federal","final","financial","fine","foreign","formal","former","free","frequent","friendly","front","full","funny","future","general","glad","global","good","great","green","growing","happy","hard","healthy","heavy","helpful","high","historical","hot","huge","human","ideal","immediate","important","impossible","impressive","independent","individual","industrial","inevitable","informal","inner","interested","interesting","international","joint","large","late","leading","legal","likely","limited","local","long","loose","lost","low","lucky","major","male","massive","medical","military","minor","modern","moral","mutual","naked","national","natural","necessary","negative","new","nice","normal","obvious","official","old","only","open","operational","original","other","overall","particular","personal","physical","political","poor","popular","positive","possible","powerful","practical","present","private","probable","quick","quiet","rapid","rare","ready","real","recent","red","regular","related","relative","relevant","reliable","religious","responsible","rich","right","rough","short","sick","significant","similar","simple","single","slight","slow","small","smart","social","soft","solid","special","specific","stable","standard","strange","strong","successful","sudden","sufficient","suitable","surprised","tall","technical","terrible","thick","thin","tight","unknown","unlikely","usual","valuable","various","vast","visual","vital","warm","weak","wealthy","weird","wide","willing","wise","wonderful","wrong","young"],console.log("pnotifications.js running on",window.location.href);const requiredClientFields=["workSpaceId","accountId","deviceId","applicationId"],Command=Object.freeze({PING:"PING",ACKNOWLEDGE:"ACKNOWLEDGE",SEND_MESSAGE:"SEND_MESSAGE",SEND_MESSAGE_WITH_ACKNOWLEDGE:"SEND_MESSAGE_WITH_ACKNOWLEDGE",ADD_MEMBERS_TO_CHANNEL:"ADD_MEMBERS_TO_CHANNEL",SEND_MESSAGE_TO_CHANNEL:"SEND_MESSAGE_TO_CHANNEL",GET_CHANNEL_HISTORY:"GET_CHANNEL_HISTORY",REMOVE_ME_FROM_CHANNEL:"REMOVE_ME_FROM_CHANNEL",GET_CHANNELS:"GET_CHANNELS",GET_CHANNELS_PUBLIC_INFO:"GET_CHANNELS_PUBLIC_INFO",MARK_CHANNEL_AS_READ:"MARK_CHANNEL_AS_READ",GET_IMPRESSION_STAT:"GET_IMPRESSION_STAT",ADD_IMPRESSION:"ADD_IMPRESSION",REMOVE_IMPRESSION:"REMOVE_IMPRESSION",SEND_UPLOAD_BINARY_APPEAL:"SEND_UPLOAD_BINARY_APPEAL",SEND_DELETE_BINARY_APPEAL:"SEND_DELETE_BINARY_APPEAL",SEND_BINARY_MANIFEST:"SEND_BINARY_MANIFEST",SEND_GATEWAY_RESPONSE:"SEND_GATEWAY_RESPONSE",SEND_GATEWAY_REQUEST:"SEND_GATEWAY_REQUEST",CONNECTION_ALIAS_LOOKUP:"CONNECTION_ALIAS_LOOKUP",CAPTCHA_VERIFY:"CAPTCHA_VERIFY",PUZZLE_CAPTCHA_GENERATE_AND_SEND:"PUZZLE_CAPTCHA_GENERATE_AND_SEND",PUZZLE_CAPTCHA_VERIFY_SELECTED_OPTION:"PUZZLE_CAPTCHA_VERIFY_SELECTED_OPTION",PUZZLE_CAPTCHA_VERIFY:"PUZZLE_CAPTCHA_VERIFY"}),MessageType=Object.freeze({ACKNOWLEDGE:"ACKNOWLEDGE",RESPONSE:"RESPONSE",CHANNEL_MESSAGE:"CHANNEL_MESSAGE",CHANNEL_EVENT:"CHANNEL_EVENT",UPLOAD_BINARY_APPEAL:"UPLOAD_BINARY_APPEAL",BINARY_MANIFEST:"BINARY_MANIFEST",GATEWAY_REQUEST:"GATEWAY_REQUEST",PRIVATE_URL_SUFFIX:"PRIVATE_URL_SUFFIX",CONNECTION_ALIAS:"CONNECTION_ALIAS",HUMAN_TOKEN:"HUMAN_TOKEN"}),ResourceType=Object.freeze({CHANNEL:"CHANNEL",CHANNEL_MESSAGE:"CHANNEL_MESSAGE"}),MessagePartsDelimiter="@@";class PChannel{constructor(e,t){this.id=e,this.name=t}}class ClientFilter{constructor(e,t,n,r,a,i,o,s){this.workSpaceId=e,this.accountId=t,this.deviceId=n,a&&(this.deviceId=JSON.stringify({deviceId:n,avatarCode:a,webSite:s,signatureHash:o,modalView:i,time:(new Date).getTime()})),this.applicationId=r}hashCode(){return calculateStringHashCode(formatString("{0}@@{1}@@{2}@@{3}",this.workSpaceId,this.accountId,this.deviceId,this.applicationId))}equals(e){return this.hashCode()===e.hashCode()}toJSON(e){return e?{workSpaceId:this.workSpaceId,accountId:this.accountId,deviceId:this.deviceId,applicationId:this.applicationId,findAny:!0===e}:{workSpaceId:this.workSpaceId,accountId:this.accountId,deviceId:this.deviceId,applicationId:this.applicationId}}cloneWithoutDeviceId(){return new ClientFilter(this.workSpaceId,this.accountId,null,this.applicationId)}cloneAndReplaceDeviceId(e){return new ClientFilter(this.workSpaceId,this.accountId,e,this.applicationId)}}class ChannelMember{constructor(e,t,n,r,a){this.workSpaceId=e,this.accountId=t,this.deviceId=n,this.applicationId=r,this.active=a}shortPrint(){return isNotEmpty(this.active)&&this.active?this.accountId+"[+]":this.accountId+"[-]"}}class ChannelWithInfo{constructor(e,t,n,r,a){this.channel=e,this.members=t,this.counter=n,this.time=r,this.read=a}static fromObject(e){const t=new PChannel(e.channel.id,e.channel.name);let n=[];return e.members&&(n=e.members.map((e=>new ChannelMember(e.workSpaceId,e.accountId,e.deviceId,e.applicationId,e.active)))),new ChannelWithInfo(t,n,e.counter,e.time,e.read)}}class ChannelsResponse{constructor(e){this.channels=e}static fromWsResponse(e){const t=("string"==typeof e?JSON.parse(e):e).body.channels.map((e=>ChannelWithInfo.fromObject(e)));return new ChannelsResponse(t)}}class ImpressionCounter{constructor(e,t){this.code=e,this.counter=t}static fromObject(e){return new ImpressionCounter(e.code,e.counter)}shortPrint(){return this.code+": "+this.counter}}class ResourceImpressionCounters{constructor(e,t){this.resourceId=e,this.counters=t}static fromObject(e){const t=e.counters.map((e=>ImpressionCounter.fromObject(e)));return new ResourceImpressionCounters(e.resourceId,t)}}class PImpression{constructor(e,t,n){this.resourceId=e,this.resourceType=t,this.code=n}}class ImpressionsResponse{constructor(e){this.items=e}static fromWsResponse(e){const t=("string"==typeof e?JSON.parse(e):e).body.map((e=>ResourceImpressionCounters.fromObject(e)));return new ImpressionsResponse(t)}}class HistoryPage{constructor(e,t,n,r){this.messages=e,this.offset=t,this.latest=n,this.more=r}static fromWsResponse(e){const t="string"==typeof e?JSON.parse(e):e,n=t.body.messages.map((e=>ChannelMessage.fromObject(e)));return new HistoryPage(n,t.body.offset,t.body.latest,t.body.more)}}class MessageDetails{constructor(e){this.id=e}static fromWsResponse(e){const t=("string"==typeof e?JSON.parse(e):e).body.messageId;return new MessageDetails(t)}}class ChannelEvent{constructor(e,t,n,r,a){this.type=e,this.actor=t,this.channelId=n,this.filters=r,this.time=a}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,n=new ClientFilter(t.actor.workSpaceId,t.actor.accountId,t.actor.deviceId,t.actor.applicationId);let r=[];return t.filters&&(r=t.filters.map((e=>new ClientFilter(e.workSpaceId,e.accountId,e.deviceId,e.applicationId)))),new ChannelEvent(t.type,n,t.channelId,r,t.time)}}class ChannelMessage{constructor(e,t,n,r,a,i,o){this.sender=e,this.channelId=t,this.messageId=n||uuid.v4().toString(),this.parentId=r,this.sendTime=a||Date.now(),this.body=i,this.mentioned=o}static fromObject(e){const t=new ClientFilter(e.sender.workSpaceId,e.sender.accountId,e.sender.deviceId,e.sender.applicationId);let n=[];return isArrayNotEmpty(e.mentioned)&&(n=e.mentioned.map((e=>new ClientFilter(e.workSpaceId,e.accountId,e.deviceId,e.applicationId)))),new ChannelMessage(t,e.channelId,e.messageId,e.parentId,e.sendTime,e.body,n)}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return this.fromObject(t)}}class CommandWithId{constructor(e,t){this.id=e,this.message=t}}class OpenConnectionRequest{constructor(e,t,n,r){this.client=e,this.pusherInstanceId=n,this.apiKey=r,this.mobile=t}}class OpenConnectionResponse{constructor(e,t,n,r){this.pusherInstanceId=e,this.externalAdvertisedUrl=t,this.internalAdvertisedUrl=n,this.browserAdvertisedUrl=r}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return new OpenConnectionResponse(t.pusherInstanceId,t.externalAdvertisedUrl,t.internalAdvertisedUrl,t.browserAdvertisedUrl)}}class UploadBinaryAppeal{constructor(e,t,n,r,a,i){this.sender=e,this.owner=t,this.binaryId=n,this.chunkSize=r||MemoryBlock.MB,this.manifestOnly=a,this.requestedChunks=i}static fromObject(e){const t=new ClientFilter(e.sender.workSpaceId,e.sender.accountId,e.sender.deviceId,e.sender.applicationId),n=new ClientFilter(e.owner.workSpaceId,e.owner.accountId,e.owner.deviceId,e.owner.applicationId);return new UploadBinaryAppeal(t,n,e.binaryId,e.chunkSize,e.manifestOnly,e.requestedChunks)}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return this.fromObject(t)}}class GatewayRequestHeader{constructor(e,t,n,r,a,i,o,s,l,c){this.alias=e,this.client=t,this.roles=n||[],this.ip=r,this.latitude=a,this.longitude=i,this.countryCode=o,this.countryName=s,this.city=l,this.proxyInfo=c}static fromObject(e){const t=new ClientFilter(e.client.workSpaceId,e.client.accountId,e.client.deviceId,e.client.applicationId);return new GatewayRequestHeader(e.alias,t,e.roles,e.ip,e.latitude,e.longitude,e.countryCode,e.countryName,e.city,e.proxyInfo)}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return this.fromObject(t)}}class ClientWithAlias{constructor(e,t,n,r,a,i,o,s,l){this.client=e,this.alias=t,this.ip=n,this.latitude=r,this.longitude=a,this.countryCode=i,this.countryName=o,this.city=s,this.proxyInfo=l}static fromObject(e){const t=new ClientFilter(e.body.client.workSpaceId,e.body.client.accountId,e.body.client.deviceId,e.body.client.applicationId);return new ClientWithAlias(t,e.body.alias,e.body.ip,e.body.latitude,e.body.longitude,e.body.countryCode,e.body.countryName,e.body.city,e.body.proxyInfo)}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return this.fromObject(t)}}let PushcaClient={};function allClientFieldsAreNotEmpty(e){return requiredClientFields.every((t=>e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&""!==e[t]))}function cleanRefreshBrokenConnectionInterval(){PushcaClient.refreshBrokenConnectionIntervalId&&(window.clearInterval(PushcaClient.refreshBrokenConnectionIntervalId),PushcaClient.refreshBrokenConnectionIntervalId=null)}async function getAuthorizedWsUrl(e,t,n){const r=new OpenConnectionRequest(t,isMobile(),null,n),a=`${e}/sign-in/${encodeToBase64UrlSafe(JSON.stringify(r))}`;return console.log("Public sign-in url: "+a),await CallableFuture.callAsynchronously(3e3,null,(function(e){const t=new WebSocket(a);t?(t.onmessage=function(t){try{const n=OpenConnectionResponse.fromJSON(t.data);PushcaClient.pusherInstanceId=n.pusherInstanceId,CallableFuture.releaseWaiterIfExistsWithSuccess(e,n.browserAdvertisedUrl),console.log("Authorised web socket url: "+n.browserAdvertisedUrl)}catch(t){CallableFuture.releaseWaiterIfExistsWithError(e,t)}},t.onerror=function(t){CallableFuture.releaseWaiterIfExistsWithError(e,t)},t.onclose=function(t){delay(500).then((()=>{CallableFuture.releaseWaiterIfExistsWithError(e,"Failed public sign-in attempt")}))}):CallableFuture.releaseWaiterIfExistsWithError(e,"Impossible to create web socket")}))}function initConnectionRecoveryInterval(e){cleanRefreshBrokenConnectionInterval(),PushcaClient.permanentlyStopped||delay(5e3).then((()=>{PushcaClient.refreshBrokenConnectionIntervalId=window.setInterval((function(){PushcaClient.permanentlyStopped||(PushcaClient.ws&&PushcaClient.ws.readyState===window.WebSocket.OPEN?BinaryWaitingHall.forEach(((e,t)=>{e.isExpired()&&(BinaryWaitingHall.delete(t),console.log(`Expired binary with id = ${e.id} was removed from waiting hall`))})):PushcaClient.restoreWsConnection(e).then((()=>{console.log(`Ws connection was successfully restored [${PushcaClient.permanentlyStopped}]`)})))}),5e3)}))}function refreshClientObj(e){const t=JSON.parse(e.deviceId);return new ClientFilter(e.workSpaceId,e.accountId,JSON.stringify({deviceId:t.deviceId,avatarCode:t.avatarCode,webSite:t.webSite,signatureHash:t.signatureHash,modalView:t.modalView,time:(new Date).getTime()}),e.applicationId)}PushcaClient.clusterBaseUrl="https://secure.fileshare.ovh",PushcaClient.serverBaseUrl="http://localhost:8080",PushcaClient.pusherInstanceId=null,PushcaClient.verbose=!1,PushcaClient.uploadBinaryLimitWasReached=!1,PushcaClient.onOpenHandler=null,PushcaClient.onCloseHandler=null,PushcaClient.onMessageHandler=null,PushcaClient.onChannelEventHandler=null,PushcaClient.onChannelMessageHandler=null,PushcaClient.onHumanTokenHandler=null,PushcaClient.onDataHandler=null,PushcaClient.onFileTransferChunkHandler=null,PushcaClient.onCaptchaSetHandler=null,PushcaClient.onPuzzleCaptchaSetHandler=null,PushcaClient.onUploadBinaryAppealHandler=null,PushcaClient.onBinaryManifestHandler=null,PushcaClient.onFinalizedBinaryHandler=null,PushcaClient.executeWithRepeatOnFailure=async function(e,t,n,r){if(isEmpty(PushcaClient.ws))return new WaiterResponse(WaiterResponseType.ERROR,"Web socket connection does not exists");if(PushcaClient.ws.readyState!==window.WebSocket.OPEN){const e=`WebSocket is not open. State: ${PushcaClient.ws.readyState}`;return console.error(e),new WaiterResponse(WaiterResponseType.ERROR,e)}let a=r||3,i=n||5e3,o=e||t.id;return await CallableFuture.callAsynchronouslyWithRepeatOfFailure(i,o,a,(function(e){PushcaClient.ws.send(t.message)}))},PushcaClient.buildCommandMessage=function(e,t){let n,r=uuid.v4().toString();return n=t?`${r}@@${e}@@${JSON.stringify(t)}`:`${r}@@${e}`,new CommandWithId(r,n)},PushcaClient.openWebSocket=function(e,t,n){try{PushcaClient.ws=new window.WebSocket(PushcaClient.wsUrl)}catch(e){PushcaClient.ws=null,console.error(`Impossible to create web socket: ws url = ${PushcaClient.wsUrl}`,e),"function"==typeof t&&t(e)}PushcaClient.ws&&(PushcaClient.ws.binaryType="arraybuffer",PushcaClient.ws.onopen=function(){"function"==typeof e&&e(),"function"==typeof PushcaClient.onOpenHandler&&PushcaClient.onOpenHandler(PushcaClient.ws)},PushcaClient.ws.onmessage=function(e){if(e.data instanceof ArrayBuffer){const t=e.data;if(13===t.byteLength)return void PushcaClient.ws.send(t);const n=new BinaryWithHeader(t);n.withAcknowledge&&PushcaClient.sendAcknowledge(n.getId());const r=CallableFuture.releaseWaiterIfExistsWithSuccess(buildDownloadWaiterId(n.getId()),n.payload),a=CallableFuture.releaseWaiterIfExistsWithSuccess(buildSingleChunkDownloadWaiterId(n.getId()),n.payload);if(!r&&!a){const e=BinaryWaitingHall.get(buildDownloadWaiterId(n.binaryId));e&&BinaryType.FILE===n.binaryType?e.setChunkBytes(n.order,n.payload).then((()=>{e.isFinalized()&&"function"==typeof PushcaClient.onFinalizedBinaryHandler&&(PushcaClient.onFinalizedBinaryHandler(e),delay(9e5).then((()=>{BinaryWaitingHall.delete(e.id)})))})):BinaryType.FILE_TRANSFER===n.binaryType?"function"==typeof PushcaClient.onFileTransferChunkHandler&&PushcaClient.onFileTransferChunkHandler(n):BinaryType.CAPTCHA_SET===n.binaryType?"function"==typeof PushcaClient.onCaptchaSetHandler&&PushcaClient.onCaptchaSetHandler(n):BinaryType.PUZZLE_CAPTCHA_SET===n.binaryType?"function"==typeof PushcaClient.onPuzzleCaptchaSetHandler&&PushcaClient.onPuzzleCaptchaSetHandler(n):console.warn(`Unassigned binary chunk was received: binaryId = ${n.binaryId}, order = ${n.order}`)}return void("function"==typeof PushcaClient.onDataHandler&&PushcaClient.onDataHandler(e.data))}if("PONG"===e.data)return void(PushcaClient.verbose&&console.log(e.data));let t=e.data.split("@@");if(t[1]!==MessageType.ACKNOWLEDGE){if(t[1]===MessageType.RESPONSE){let e;return t.length>2&&(e=t[2]),void CallableFuture.releaseWaiterIfExistsWithSuccess(t[0],e)}if(t[1]!==MessageType.CHANNEL_EVENT)if(t[1]!==MessageType.CHANNEL_MESSAGE)if(t[1]!==MessageType.CONNECTION_ALIAS)if(t[1]!==MessageType.HUMAN_TOKEN){if(t[1]===MessageType.UPLOAD_BINARY_APPEAL)return processUploadBinaryAppeal(UploadBinaryAppeal.fromJSON(t[2])),void("function"==typeof PushcaClient.onUploadBinaryAppealHandler&&PushcaClient.onUploadBinaryAppealHandler(UploadBinaryAppeal.fromJSON(t[2])));if(t[1]===MessageType.BINARY_MANIFEST){PushcaClient.sendAcknowledge(t[0]);const e=BinaryManifest.fromJSON(t[2]),n=buildDownloadWaiterId(e.id);return CallableFuture.releaseWaiterIfExistsWithSuccess(n,e)||(BinaryWaitingHall.get(n)?console.warn(`Manifest of binary with id ${e.id} is already in processing`):BinaryWaitingHall.set(n,e)),void("function"==typeof PushcaClient.onBinaryManifestHandler&&PushcaClient.onBinaryManifestHandler(BinaryManifest.fromJSON(t[2])))}if(t[1]===MessageType.GATEWAY_REQUEST){const e=t[2],n=GatewayRequestHeader.fromJSON(t[3]);let r=new Uint8Array(0);return 5===t.length&&(r=base64ToArrayBuffer(t[4])),void processGateWayRequest(e,n,r,(function(e){let n=new Uint8Array(0);e&&(n=e),PushcaClient.sendGatewayResponse(t[0],n)}))}if(2===t.length)return PushcaClient.sendAcknowledge(t[0]),void("function"==typeof PushcaClient.onMessageHandler&&PushcaClient.onMessageHandler(PushcaClient.ws,t[1]));"function"==typeof PushcaClient.onMessageHandler&&PushcaClient.onMessageHandler(PushcaClient.ws,e.data)}else"function"==typeof PushcaClient.onHumanTokenHandler&&PushcaClient.onHumanTokenHandler(t[2]);else CallableFuture.releaseWaiterIfExistsWithSuccess(t[2],t[3]);else"function"==typeof PushcaClient.onChannelMessageHandler&&PushcaClient.onChannelMessageHandler(ChannelMessage.fromJSON(t[2]));else"function"==typeof PushcaClient.onChannelEventHandler&&PushcaClient.onChannelEventHandler(ChannelEvent.fromJSON(t[2]))}else CallableFuture.releaseWaiterIfExistsWithSuccess(t[0],null)},PushcaClient.ws.onerror=function(e){console.error("There was an error with your websocket!"),"function"==typeof t&&t(e)},PushcaClient.ws.onclose=function(e){"function"==typeof n&&n(),e.wasClean&&console.log(`[close] Connection closed cleanly, code=${e.code} reason=${e.reason}`),"function"==typeof PushcaClient.onCloseHandler&&PushcaClient.onCloseHandler(PushcaClient.ws,e)})},PushcaClient.stopWebSocket=function(){cleanRefreshBrokenConnectionInterval(),PushcaClient.ws&&PushcaClient.ws.readyState!==window.WebSocket.CLOSING&&PushcaClient.ws.readyState!==window.WebSocket.CLOSED&&PushcaClient.ws.close(3e3,"Stop websocket connection")},PushcaClient.stopWebSocketPermanently=function(){PushcaClient.permanentlyStopped=!0,PushcaClient.stopWebSocket()},PushcaClient.isOpen=function(){return!!PushcaClient.ws&&PushcaClient.ws.readyState===window.WebSocket.OPEN},PushcaClient.openWsConnection=async function(e,t,n,r,a=null){if(PushcaClient.permanentlyStopped)return;PushcaClient.serverBaseUrl=e,PushcaClient.ClientObj=t,PushcaClient.clientObjRefresher=n,r||initConnectionRecoveryInterval(e);let i=await getAuthorizedWsUrl(e,t,a);return WaiterResponseType.ERROR===i.type?(console.error(`cannot open authorized ws connection: url ${PushcaClient.wsUrl}, caused by`),void console.log(i.body)):i.body?(PushcaClient.wsUrl=i.body,await CallableFuture.callAsynchronously(3e3,null,(function(e){PushcaClient.openWebSocket((function(){CallableFuture.releaseWaiterIfExistsWithSuccess(e,window.WebSocket.OPEN)}),(function(t){CallableFuture.releaseWaiterIfExistsWithError(e,t)}),(function(){CallableFuture.releaseWaiterIfExistsWithError(e,window.WebSocket.CLOSED)}))}))):void console.error("Authorized ws url was not provided by Pushca server")},PushcaClient.restoreWsConnection=async function(e){if((!PushcaClient.ws||PushcaClient.ws.readyState!==window.WebSocket.OPEN)&&PushcaClient.ClientObj){let t,n=100;PushcaClient.ws&&PushcaClient.ws.readyState!==window.WebSocket.CLOSING&&PushcaClient.ws.readyState!==window.WebSocket.CLOSED&&(PushcaClient.ws.close(3e3,"Close broken connection before recovery"),n=2e3),await delay(n),t="function"==typeof PushcaClient.clientObjRefresher?PushcaClient.clientObjRefresher(PushcaClient.ClientObj):refreshClientObj(PushcaClient.ClientObj),await PushcaClient.openWsConnection(e,t,PushcaClient.clientObjRefresher,!0)}},PushcaClient.changeClientObject=function(e){if(PushcaClient.ws&&PushcaClient.ws.readyState===window.WebSocket.OPEN&&PushcaClient.ClientObj&&PushcaClient.ClientObj.equals(e))return null;const t=PushcaClient.ClientObj;return PushcaClient.ClientObj=e,PushcaClient.ws&&PushcaClient.ws.close(1e3,"leave"),t},PushcaClient.sendAcknowledge=function(e){let t={};t.messageId=e;let n=PushcaClient.buildCommandMessage(Command.ACKNOWLEDGE,t);PushcaClient.ws.send(n.message)},PushcaClient.sendGatewayRequest=async function(e,t,n){let r={};r.receiver=e.toJSON(!1),r.preserveOrder=!1,r.path=t,r.payload=byteArrayToBase64(n);let a=PushcaClient.buildCommandMessage(Command.SEND_GATEWAY_REQUEST,r),i=await PushcaClient.executeWithRepeatOnFailure(null,a,3e4);return WaiterResponseType.ERROR===i.type?(console.error("Failed send gateway request attempt: "+i.body),null):i.body},PushcaClient.sendGatewayResponse=function(e,t){let n={};n.id=e,n.payload=byteArrayToBase64(t);let r=PushcaClient.buildCommandMessage(Command.SEND_GATEWAY_RESPONSE,n);PushcaClient.ws.send(r.message)},PushcaClient.broadcastMessage=async function(e,t,n,r){let a={};a.id=e,a.filter=t,a.sender=PushcaClient.client,a.message=r,a.preserveOrder=n;let i=PushcaClient.buildCommandMessage(Command.SEND_MESSAGE,a),o=await PushcaClient.executeWithRepeatOnFailure(null,i);WaiterResponseType.ERROR===o.type&&console.error("Failed broadcast message attempt: "+o.body)},PushcaClient.sendMessageWithAcknowledge=async function(e,t,n,r){if(!allClientFieldsAreNotEmpty(t))return void console.error("Cannot broadcast with acknowledge: "+JSON.stringify(t));let a={};a.id=e,a.client=t,a.sender=PushcaClient.ClientObj,a.message=r,a.preserveOrder=n;let i=PushcaClient.buildCommandMessage(Command.SEND_MESSAGE_WITH_ACKNOWLEDGE,a),o=await PushcaClient.executeWithRepeatOnFailure(e,i);WaiterResponseType.ERROR===o.type&&console.error("Failed send message with acknowledge attempt: "+o.body)},PushcaClient.addMembersToChannel=async function(e,t){let n={};n.channel=e,n.filters=t;let r=PushcaClient.buildCommandMessage(Command.ADD_MEMBERS_TO_CHANNEL,n),a=await PushcaClient.executeWithRepeatOnFailure(null,r);return WaiterResponseType.ERROR!==a.type||(console.error("Failed add members to channel attempt: "+a.body),!1)},PushcaClient.sendMessageToChannel=async function(e,t,n){let r={};r.channel=e,isArrayNotEmpty(t)&&(r.mentioned=t),r.message=n;let a=PushcaClient.buildCommandMessage(Command.SEND_MESSAGE_TO_CHANNEL,r),i=await PushcaClient.executeWithRepeatOnFailure(null,a);return WaiterResponseType.ERROR===i.type?(console.error("Failed send message to channel attempt: "+i.body),null):MessageDetails.fromWsResponse(i.body)},PushcaClient.getChannelHistory=async function(e,t){let n={};n.channel=e,t&&(n.offset=t);let r=PushcaClient.buildCommandMessage(Command.GET_CHANNEL_HISTORY,n),a=await PushcaClient.executeWithRepeatOnFailure(null,r);return WaiterResponseType.ERROR===a.type?(console.error("Failed get channel history attempt: "+a.body),null):HistoryPage.fromWsResponse(a.body)},PushcaClient.removeMeFromChannel=async function(e){let t={};t.channel=e;let n=PushcaClient.buildCommandMessage(Command.REMOVE_ME_FROM_CHANNEL,t),r=await PushcaClient.executeWithRepeatOnFailure(null,n);return WaiterResponseType.ERROR===r.type&&console.error("Failed remove me from channel attempt: "+r.body),r},PushcaClient.getChannels=async function(e){let t={};t.filter=e;let n=PushcaClient.buildCommandMessage(Command.GET_CHANNELS,t),r=await PushcaClient.executeWithRepeatOnFailure(null,n);return WaiterResponseType.ERROR===r.type?(console.error("Failed get channels attempt: "+r.body),null):ChannelsResponse.fromWsResponse(r.body)},PushcaClient.getChannelsPublicInfo=async function(e){let t={};t.ids=e;let n=PushcaClient.buildCommandMessage(Command.GET_CHANNELS_PUBLIC_INFO,t),r=await PushcaClient.executeWithRepeatOnFailure(null,n);return WaiterResponseType.ERROR===r.type?(console.error("Failed get channels public info attempt: "+r.body),null):ChannelsResponse.fromWsResponse(r.body)},PushcaClient.markChannelAsRead=async function(e){let t={};t.channel=e;let n=PushcaClient.buildCommandMessage(Command.MARK_CHANNEL_AS_READ,t),r=await PushcaClient.executeWithRepeatOnFailure(null,n);WaiterResponseType.ERROR===r.type&&console.error("Failed mark channel as read attempt: "+r.body)},PushcaClient.getImpressionStat=async function(e){let t={};t.ids=e;let n=PushcaClient.buildCommandMessage(Command.GET_IMPRESSION_STAT,t),r=await PushcaClient.executeWithRepeatOnFailure(null,n);return WaiterResponseType.ERROR===r.type?(console.error("Failed get impression statistic attempt: "+r.body),null):ImpressionsResponse.fromWsResponse(r.body)},PushcaClient.addImpression=async function(e,t){let n={};n.channel=e,n.impression=t;let r=PushcaClient.buildCommandMessage(Command.ADD_IMPRESSION,n),a=await PushcaClient.executeWithRepeatOnFailure(null,r);WaiterResponseType.ERROR===a.type&&console.log("Failed add impression attempt: "+a.body)},PushcaClient.removeImpression=async function(e,t){let n={};n.channel=e,n.impression=t;let r=PushcaClient.buildCommandMessage(Command.REMOVE_IMPRESSION,n),a=await PushcaClient.executeWithRepeatOnFailure(null,r);WaiterResponseType.ERROR===a.type&&console.log("Failed add impression attempt: "+a.body)},PushcaClient.sendPing=function(){let e=PushcaClient.buildCommandMessage(Command.PING);PushcaClient.ws.send(e.message)},PushcaClient.sendUploadBinaryAppeal=async function(e,t,n,r,a){let i={};i.owner=e,i.binaryId=t,i.chunkSize=n,i.manifestOnly=r,i.requestedChunks=a;let o=PushcaClient.buildCommandMessage(Command.SEND_UPLOAD_BINARY_APPEAL,i),s=await PushcaClient.executeWithRepeatOnFailure(null,o);return WaiterResponseType.ERROR===s.type&&console.log("Failed send upload binary appeal attempt: "+s.body),s},PushcaClient.downloadBinaryChunk=async function(e,t,n,r){const a=calculateClientHashCode(PushcaClient.ClientObj.workSpaceId,PushcaClient.ClientObj.accountId,PushcaClient.ClientObj.deviceId,PushcaClient.ClientObj.applicationId),i=new ClientFilter(isStringPresentNumber(e.workSpaceId)?e.workSpaceId:`${calculateStringHashCode(e.workSpaceId)}`,e.accountId,null,e.applicationId),o=buildSingleChunkDownloadWaiterId(buildSharedFileChunkId(t,n,a)),s=await CallableFuture.callAsynchronouslyWithRepeatOfFailure(3e4,o,3,(function(){PushcaClient.sendUploadBinaryAppeal(i,t,r,!1,[n]).then((e=>{WaiterResponseType.ERROR===e.type&&CallableFuture.releaseWaiterIfExistsWithError(o,"Failed download binary chunk attempt: "+e.body)}))}));return WaiterResponseType.ERROR===s.type?(console.log(`Failed send chunk of binary with id ${t} and order = ${n} attempt: `+s.body),null):s.body},PushcaClient.sendDeleteBinaryAppeal=async function(e,t){let n={};n.binaryId=e,n.deviceSecret=t;let r=PushcaClient.buildCommandMessage(Command.SEND_DELETE_BINARY_APPEAL,n),a=await PushcaClient.executeWithRepeatOnFailure(null,r);return WaiterResponseType.ERROR===a.type?(console.log("Failed send delete binary appeal attempt: "+a.body),JSON.stringify({body:"false",error:a.body})):a.body},PushcaClient.sendBinaryManifest=async function(e,t){let n={};n.dest=e,n.manifest=t.toJSON();let r=PushcaClient.buildCommandMessage(Command.SEND_BINARY_MANIFEST,n),a=await PushcaClient.executeWithRepeatOnFailure(t.id,r);return WaiterResponseType.ERROR===a.type&&console.log(`Failed send manifest for binary with id ${t.id} attempt: `+a.body),a},PushcaClient.sendBinaryChunk=async function(e,t,n,r,a){if(isEmpty(PushcaClient.ws))return new WaiterResponse(WaiterResponseType.ERROR,"Web socket connection does not exists");if(PushcaClient.ws.readyState!==window.WebSocket.OPEN){const e=`WebSocket is not open. State: ${PushcaClient.ws.readyState}`;return console.error(e),new WaiterResponse(WaiterResponseType.ERROR,e)}const i=buildPushcaBinaryHeader(BinaryType.FILE,n,r,e,t),o=new ArrayBuffer(i.length+a.byteLength),s=new Uint8Array(o);s.set(i,0),s.set(new Uint8Array(a),i.length);const l=buildSharedFileChunkId(e,t,n),c=r?1:3,u=await CallableFuture.callAsynchronouslyWithRepeatOfFailure(6e4,l,c,(function(){PushcaClient.ws.send(o)}));return WaiterResponseType.ERROR===u.type&&console.log(`Failed send chunk of binary with id ${e} and order = ${t} attempt: `+u.body),u},PushcaClient.transferBinaryChunk=async function(e,t,n,r){if(isEmpty(PushcaClient.ws))return new WaiterResponse(WaiterResponseType.ERROR,"Web socket connection does not exists");if(PushcaClient.ws.readyState!==window.WebSocket.OPEN){const e=`WebSocket is not open. State: ${PushcaClient.ws.readyState}`;return console.error(e),new WaiterResponse(WaiterResponseType.ERROR,e)}const a=buildPushcaBinaryHeader(BinaryType.FILE_TRANSFER,n,!1,e,t),i=new ArrayBuffer(a.length+r.byteLength),o=new Uint8Array(i);o.set(a,0),o.set(new Uint8Array(r),a.length);const s=buildSharedFileChunkId(e,t,n),l=await CallableFuture.callAsynchronouslyWithRepeatOfFailure(2e4,s,3,(function(){PushcaClient.ws.send(i)}));return WaiterResponseType.ERROR===l.type&&console.log(`Failed send chunk of binary with id ${e} and order = ${t} attempt: `+l.body),l},PushcaClient.cacheBinaryChunkInCloud=async function(e,t,n){PushcaClient.isOpen()||await PushcaClient.restoreWsConnection();for(let e=0;e<300&&!PushcaClient.isOpen();e++)await delay(100);if(!PushcaClient.isOpen())return new WaiterResponse(WaiterResponseType.ERROR,"Web socket connection does not exists");if(PushcaClient.uploadBinaryLimitWasReached){const e=`WebSocket is not open. State: ${PushcaClient.ws.readyState}`;return console.error(e),new WaiterResponse(WaiterResponseType.ERROR,e)}const r=PushcaClient.ClientObj.hashCode(),a=buildPushcaBinaryHeader(BinaryType.CACHE_BINARY,r,!1,e,t),i=new ArrayBuffer(a.length+n.byteLength),o=new Uint8Array(i);o.set(a,0),o.set(new Uint8Array(n),a.length);const s=buildSharedFileChunkId(e,t,r),l=await CallableFuture.callAsynchronouslyWithRepeatOfFailure(2e4,s,3,(function(){PushcaClient.ws.send(i)}),!0);if(WaiterResponseType.ERROR===l.type){const n=`Failed cache in cloud  chunk of binary with id ${e} and order = ${t} attempt: ${l.body.body}`;console.log(n),isMobile()&&alert(n)}return l},PushcaClient.connectionAliasLookup=async function(e){let t={};t.fragment=e;let n=PushcaClient.buildCommandMessage(Command.CONNECTION_ALIAS_LOOKUP,t),r=await PushcaClient.executeWithRepeatOnFailure(null,n);if(WaiterResponseType.ERROR===r.type)return console.error("Failed connection alias lookup attempt: "+r.body),null;const a="string"==typeof r.body?JSON.parse(r.body):r.body;return a.error?(console.error("Failed connection alias lookup attempt: "+a.error),null):ClientWithAlias.fromObject(a)},PushcaClient.CaptchaVerify=async function(e,t,n,r){let a={};a.captchaId=e,a.pageId=t,a.resultIndex=n,r&&(a.backendUrl=e);let i=PushcaClient.buildCommandMessage(Command.CAPTCHA_VERIFY,a),o=await PushcaClient.executeWithRepeatOnFailure(null,i);WaiterResponseType.ERROR===o.type&&console.error("Failed verify captcha attempt: "+o.body)},PushcaClient.RequestPuzzleCaptcha=async function(e,t){let n={};n.captchaId=e,n.pieceSizeLength=t;let r=PushcaClient.buildCommandMessage(Command.PUZZLE_CAPTCHA_GENERATE_AND_SEND,n),a=await PushcaClient.executeWithRepeatOnFailure(null,r);WaiterResponseType.ERROR===a.type&&console.error("Failed request Puzzle captcha attempt: "+a.body)},PushcaClient.verifySelectedPieceOfPuzzleCaptcha=async function(e,t,n,r){let a={};a.captchaId=e,a.pageId=t,a.point={x:n,y:r};let i=PushcaClient.buildCommandMessage(Command.PUZZLE_CAPTCHA_VERIFY_SELECTED_OPTION,a),o=await PushcaClient.executeWithRepeatOnFailure(null,i,3e4);return WaiterResponseType.ERROR===o.type?(console.error("Failed verify selected piece of puzzle captcha attempt: "+o.body),null):o.body},PushcaClient.verifyPuzzleCaptcha=async function(e,t,n,r){let a={};a.captchaId=e,a.pageId=t,a.point={x:n,y:r};let i=PushcaClient.buildCommandMessage(Command.PUZZLE_CAPTCHA_VERIFY,a),o=await PushcaClient.executeWithRepeatOnFailure(null,i,3e4);if(WaiterResponseType.ERROR===o.type)return console.error("Failed verify selected piece of puzzle captcha attempt: "+o.body),null},window.addEventListener("beforeunload",(function(){cleanRefreshBrokenConnectionInterval(),isNotEmpty(PushcaClient.ws)&&PushcaClient.ws.close(1e3,"leave")}));const BinaryType=Object.freeze({FILE:0,MEDIA_STREAM:1,BINARY_MESSAGE:2,FILE_TRANSFER:3,CACHE_BINARY:4,PING:5,CAPTCHA_SET:6,PUZZLE_CAPTCHA_SET:7}),DatagramState=Object.freeze({UNKNOWN:0,LOADED:1,CORRUPTED:2});class Datagram{constructor(e,t,n){this.order=e,this.size=t,this.md5=n,this.state=DatagramState.UNKNOWN}setBytes(e){this.bytes=e,this.state=DatagramState.LOADED}setState(e){this.state=e}}class BinaryManifest{constructor(e,t,n,r,a,i,o,s,l,c,u,d,h,y,f,p){this.id=e,this.name=t,this.mimeType=n,this.readMeText=r,this.sender=a,this.pusherInstanceId=i,this.datagrams=isArrayNotEmpty(o)?o:[],this.totalSize=s,this.created=l||(new Date).getTime(),this.password=c,this.privateUrlSuffix=u,this.downloadCounter=d||0,this.base64Key=h,this.base64IV=y,this.cachedInCloud=f,this.forHuman=p}getPrivateUrlShortSuffix(){return this.privateUrlSuffix?this.privateUrlSuffix.split("@@")[0]:null}getPrivateUrlLongSuffix(){if(!this.privateUrlSuffix)return null;const e=this.privateUrlSuffix.split("@@");return e.length>1?e[1]:null}getTotalSize(){return this.totalSize||(this.totalSize=calculateTotalSize(this.datagrams)),this.totalSize}resetTotalSize(){this.totalSize=null}appendDatagram(e){this.resetTotalSize(),this.datagrams.push(e),this.totalSize=calculateTotalSize(this.datagrams)}setSender(e){this.sender=e}setPusherInstanceId(e){this.pusherInstanceId=e}getPublicUrl(e,t){const n=PushcaClient.clusterBaseUrl;let r;if(this.password){const a=t?`?workspace=${e}`:"";r=`${n}/binary/${this.getPrivateUrlShortSuffix()}${a}`}else r=`${n}/public-binary-ex.html?w=${e}&id=${this.id}&tn=${buildThumbnailId(this.id)}`,this.forHuman&&(r=`${r}&human-only=true`);return r}async setChunkBytes(e,t){const n=this.datagrams[e];return CallableFuture.callAsynchronously(2e3,null,(function(r){calculateSha256(t).then((a=>{n.md5===a?(n.setBytes(t),CallableFuture.releaseWaiterIfExistsWithSuccess(r,!0)):(console.warn(`Corrupted chunk was received: binary id = ${this.id}, order = ${e}`),n.setState(DatagramState.CORRUPTED),CallableFuture.releaseWaiterIfExistsWithError(r,!1))}))}))}isCompleted(){return this.datagrams.every((e=>e.state===DatagramState.LOADED))}isFinalized(){return this.datagrams.every((e=>e.state!==DatagramState.UNKNOWN))}isExpired(){return(new Date).getTime()-this.created>18e5}toJSON(){return{id:this.id,name:this.name,mimeType:this.mimeType,readMeText:this.readMeText,sender:this.sender,pusherInstanceId:this.pusherInstanceId,datagrams:this.datagrams}}toDbJSON(){return{id:this.id,name:this.name,mimeType:this.mimeType,readMeText:this.readMeText,sender:this.sender,pusherInstanceId:this.pusherInstanceId,datagrams:this.datagrams,password:this.password,privateUrlSuffix:this.privateUrlSuffix,base64Key:this.base64Key,base64IV:this.base64IV,cachedInCloud:this.cachedInCloud,forHuman:this.forHuman}}static fromObject(e,t,n,r){const a=new ClientFilter(e.sender.workSpaceId,e.sender.accountId,e.sender.deviceId,e.sender.applicationId);let i=[];return isArrayNotEmpty(e.datagrams)&&(i=e.datagrams.map((e=>new Datagram(e.order,e.size,e.md5)))),new BinaryManifest(e.id,e.name,e.mimeType,e.readMeText,a,e.pusherInstanceId,i,t,n,e.password,e.privateUrlSuffix,r,e.base64Key,e.base64IV,e.cachedInCloud,e.forHuman)}static fromJSON(e,t,n,r){const a="string"==typeof e?JSON.parse(e):e;return this.fromObject(a,t,n,r)}}class BinaryWithHeader{constructor(e){this.binaryType=bytesToShortInt(copyBytes(e,0,1)),this.destClientHash=bytesToInt(copyBytes(e,1,5)),this.withAcknowledge=bytesToBoolean(copyBytes(e,5,6)),this.binaryId=bytesToUuid(copyBytes(e,6,22)),this.order=bytesToInt(copyBytes(e,22,26)),this.payload=copyBytes(e,26,e.byteLength)}getId(){return buildSharedFileChunkId(this.binaryId,this.order,this.destClientHash)}}const BinaryWaitingHall=new Map;function buildSharedFileChunkId(e,t,n){return`${e}-${t}-${n}`}async function manifestToJsonObjectWithProtectedAttributes(e){let t=null;if(e.base64Key){const n=new EncryptionContract(e.base64Key,e.base64IV),r=stringToByteArray(Fileshare.workSpaceId);t=await n.toTransferableString(e.password,r)}const n=e.password?await calculateSha256(stringToArrayBuffer(e.password)):null;return{id:e.id,name:e.name,mimeType:e.mimeType,readMeText:e.readMeText,sender:e.sender,pusherInstanceId:e.pusherInstanceId,datagrams:e.datagrams,privateUrlSuffix:e.privateUrlSuffix,encryptionContract:t,passwordHash:n,deviceSecret:Fileshare.deviceSecret,forHuman:e.forHuman}}async function getPrivateUrlSuffix(e){let t=null;const n=await CallableFuture.callAsynchronously(2e3,null,(function(t){getManifestByRecordId(e,(function(e){CallableFuture.releaseWaiterIfExistsWithSuccess(t,e)}),(function(e){CallableFuture.releaseWaiterIfExistsWithError(t,e.target.error)}))}));if(WaiterResponseType.SUCCESS===n.type&&n.body){const e=n.body;if(e.base64Key){t=(await manifestToJsonObjectWithProtectedAttributes(e)).encryptionContract}return{privateUrlSuffix:e.getPrivateUrlLongSuffix(),encryptionContract:t}}return null}async function addBinaryToStorage(e,t,n,r,a,i){let o;if(!i)return console.log(`Binary manifest was not provided: ${t}`),null;if(0===a&&(o=await CallableFuture.callAsynchronously(2e3,null,(function(e){saveBinaryManifest(i,(function(){CallableFuture.releaseWaiterIfExistsWithSuccess(e,!0)}),(function(t){showErrorMsg(t.target.error.message,null),CallableFuture.releaseWaiterIfExistsWithError(e,!1)}))})),WaiterResponseType.ERROR===o.type))return null;const s=splitArrayBuffer(r,MemoryBlock.MB);for(let r=0;r<s.length;r++){const o=100*a+r,l=await addChunkToBinaryManifest(i,o,s[r]);if(WaiterResponseType.SUCCESS!==l.type||!l.body)return console.log(`Cannot append binary chunk: name ${t}, order ${o}`),null;i=l.body;const c=new Blob([s[r]],{type:n});saveBinaryChunk(e,o,c),await PushcaClient.cacheBinaryChunkInCloud(e,o,s[r])}return o=await CallableFuture.callAsynchronously(2e3,null,(function(e){saveBinaryManifest(i,(function(){CallableFuture.releaseWaiterIfExistsWithSuccess(e,!0)}),(function(t){showErrorMsg(`Failed attempt to store manifest of binary with name ${i.name}: ${t.target.error.message}`,null),removeAllRecordsWithBinaryId(i.id),CallableFuture.releaseWaiterIfExistsWithError(e,!1)}))})),WaiterResponseType.ERROR===o.type?(console.log(`Failed Save manifest attempt during binary upload: file name = ${t}`),null):i}async function createBinaryManifest(e,t,n,r,a,i,o,s,l){if(!PushcaClient.ClientObj)return new WaiterResponse(WaiterResponseType.ERROR,"Owner connection is absent");const c=new ClientFilter(PushcaClient.ClientObj.workSpaceId,PushcaClient.ClientObj.accountId,PushcaClient.ClientObj.deviceId,PushcaClient.ClientObj.applicationId);if(!a){const i=new BinaryManifest(e,t,n,r,c,PushcaClient.pusherInstanceId,[],null,null,a,null,null,null,null,o,s);return new WaiterResponse(WaiterResponseType.SUCCESS,i)}const u=l||Fileshare.workSpaceId;return await CallableFuture.callAsynchronously(2e3,null,(function(l){createPrivateUrlSuffix(u,e).then((u=>{const d=new BinaryManifest(e,t,n,r,c,PushcaClient.pusherInstanceId,[],null,null,a,u,null,i?i.base64Key:null,i?i.base64IV:null,o,s);CallableFuture.releaseWaiterIfExistsWithSuccess(l,d)}))}))}async function addChunkToBinaryManifest(e,t,n){return await CallableFuture.callAsynchronously(2e3,null,(function(r){chunk2Datagram(t,n,(function(t){t?(e.appendDatagram(t),CallableFuture.releaseWaiterIfExistsWithSuccess(r,e)):CallableFuture.releaseWaiterIfExistsWithError(r,"Cannot convert bytes to datagram")}))}))}async function chunkToDatagram(e,t){return await CallableFuture.callAsynchronously(2e3,null,(function(n){chunk2Datagram(e,t,(function(e){e?CallableFuture.releaseWaiterIfExistsWithSuccess(n,e):CallableFuture.releaseWaiterIfExistsWithError(n,"Cannot convert bytes to datagram")}))}))}function chunk2Datagram(e,t,n){t&&0!==t.byteLength?calculateSha256(t).then((r=>{"function"==typeof n&&n(new Datagram(e,t.byteLength,r))})):"function"==typeof n&&n(null)}function calculateClientHashCode(e,t,n,r){return calculateStringHashCode(formatString("{0}@@{1}@@{2}@@{3}",e,t,n,r))}function buildPushcaBinaryHeader(e,t,n,r,a){return concatenateByteArrays(shortIntToBytes(e),intToBytes(t),booleanToBytes(n),uuidToBytes(r),intToBytes(a))}function extractOrderFromBinaryWithHeader(e){return bytesToInt(copyBytes(e,22,26))}function calculateTotalSize(e){return isArrayNotEmpty(e)?e.reduce(((e,t)=>e+t.size),0):0}async function saveBinaryManifestToDatabase(e){return await CallableFuture.callAsynchronously(2e3,null,(function(t){saveBinaryManifest(e,(function(){CallableFuture.releaseWaiterIfExistsWithSuccess(t,!0)}),(function(e){const n=e.target.error?e.target.error.message:"Unknown error";CallableFuture.releaseWaiterIfExistsWithError(t,n)}))}))}async function saveBinaryChunkToDatabase(e,t,n){return await CallableFuture.callAsynchronously(2e3,null,(function(r){saveBinaryChunk(e,t,n,(function(){CallableFuture.releaseWaiterIfExistsWithSuccess(r,!0)}),(function(e){const t=e.target.error?e.target.error.message:"Unknown error";CallableFuture.releaseWaiterIfExistsWithError(r,t)}))}))}async function processUploadBinaryAppeal(e){const t=new ClientFilter(e.sender.workSpaceId,e.sender.accountId,e.sender.deviceId,e.sender.applicationId);sendBinary(e.binaryId,e.manifestOnly,e.requestedChunks,t)}async function sendBinary(e,t,n,r){const a=calculateClientHashCode(r.workSpaceId,r.accountId,r.deviceId,r.applicationId);if(isArrayNotEmpty(n)){for(let t=0;t<n.length;t++)await retrieveAndSendBinaryChunk(e,n[t],a,!1);return}let i,o=await CallableFuture.callAsynchronously(2e3,null,(function(t){getManifest(e,(function(e){CallableFuture.releaseWaiterIfExistsWithSuccess(t,e)}),(function(e){CallableFuture.releaseWaiterIfExistsWithError(t,e.target.error)}))}));if(WaiterResponseType.SUCCESS===o.type&&o.body&&(i=o.body),i){if(i.setPusherInstanceId(PushcaClient.pusherInstanceId),i.setSender(PushcaClient.ClientObj),t)return await PushcaClient.sendBinaryManifest(r,i),void incrementDownloadCounterOfManifestRecord(i.id);for(let t=0;t<i.datagrams.length;t++)await retrieveAndSendBinaryChunk(e,t,a,!0);console.log(`Successfully send binary with id ${e}`)}else console.warn(`Unknown binary with id ${e}`)}async function retrieveAndSendBinaryChunk(e,t,n,r){const a=await CallableFuture.callAsynchronously(2e3,null,(function(n){getBinaryChunk(e,t,(function(e){CallableFuture.releaseWaiterIfExistsWithSuccess(n,e)}))}));if(WaiterResponseType.ERROR===a.type||!a.body)return void console.warn(`Chunk ${t} of binary with id ${e} not found`);const i=await a.body.arrayBuffer();return await PushcaClient.sendBinaryChunk(e,t,n,r,i)}function buildDownloadWaiterId(e){return`wd_${e}`}function buildSingleChunkDownloadWaiterId(e){return`wds_${e}`}function downloadBinary(e,t,n){downloadFile(new Blob(e,{type:n}),t)}async function loadAllBinaryChunks(e,t,n){const r=[];let a=0;for(;a<t;){const t=await loadBinaryChunk(e,a);if(WaiterResponseType.SUCCESS!==t.type||!t.body)return void console.error(`Binary data is corrupted or cannot be loaded: binaryId = ${e}, order = ${a}`);r.push(t.body),a+=1}"function"==typeof n&&n(r)}async function loadBinaryChunk(e,t){return await CallableFuture.callAsynchronously(3e3,null,(function(n){getBinaryChunk(e,t,(function(e){CallableFuture.releaseWaiterIfExistsWithSuccess(n,e)}))}))}