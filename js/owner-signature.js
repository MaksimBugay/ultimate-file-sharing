prepositions = [
    "about", "above", "across", "after", "against", "along", "amid", "among", "around", "as", "at",
    "before", "behind", "below", "beneath", "beside", "besides", "between", "beyond", "but", "by",
    "concerning", "despite", "down", "during", "except", "for", "from", "in", "inside", "into", "like",
    "near", "of", "off", "on", "onto", "opposite", "out", "outside", "over", "past", "per",
    "regarding", "round", "save", "since", "than", "through", "till", "to", "toward", "towards", "under",
    "underneath", "unlike", "until", "up", "upon", "versus", "via", "with", "within", "without"
]
adverbs = [
    "abroad", "absolutely", "accidentally", "actually", "almost", "already", "always", "angrily", "anxiously",
    "anywhere", "approximately", "around", "awkwardly", "badly", "barely", "beautifully", "bitterly",
    "blindly", "boldly", "bravely", "briefly", "brightly", "briskly", "broadly", "busily", "calmly", "carefully",
    "carelessly", "certainly", "clearly", "cleverly", "closely", "coincidentally", "completely", "constantly",
    "correctly", "courageously", "curiously", "currently", "daily", "deliberately", "delightfully", "diligently",
    "directly", "doubtfully", "eagerly", "early", "easily", "effectively", "efficiently", "elsewhere", "enough",
    "entirely", "especially", "essentially", "even", "eventually", "exactly", "exceedingly", "exclusively",
    "extremely", "fairly", "faithfully", "far", "fast", "fatally", "fiercely", "finally", "firmly", "frequently",
    "fully", "furiously", "generally", "generously", "gently", "genuinely", "gradually", "greatly", "happily",
    "hard", "hardly", "hastily", "heartily", "heavily", "helpfully", "here", "highly", "honestly", "hopefully",
    "hourly", "however", "hungrily", "immediately", "incredibly", "indeed", "initially", "instantly",
    "intensely", "intentionally", "interestingly", "internally", "ironically", "joyfully", "just", "kindly",
    "late", "lately", "later", "lazily", "less", "likely", "literally", "little", "loudly", "lovingly", "low",
    "luckily", "mainly", "maybe", "meanwhile", "merely", "merrily", "mightily", "more", "moreover", "mostly",
    "much", "naturally", "nearly", "neatly", "necessarily", "never", "newly", "next", "nicely", "nightly",
    "noisily", "normally", "now", "nowhere", "obviously", "occasionally", "oddly", "often", "only", "openly",
    "particularly", "partly", "perhaps", "perfectly", "permanently", "personally", "physically",
    "plainly", "poorly", "possibly", "potentially", "precisely", "previously", "primarily", "probably",
    "promptly", "properly", "punctually", "purely", "quickly", "quietly", "quite", "randomly", "rarely",
    "really", "recently", "regularly", "relatively", "reluctantly", "remarkably", "repeatedly",
    "roughly", "rudely", "ruthlessly", "sadly", "safely", "seldom", "selfishly", "seriously",
    "sharply", "shortly", "significantly", "silently", "simply", "sincerely", "slightly", "slowly",
    "smoothly", "softly", "solely", "specially", "specifically", "spectacularly", "spontaneously", "steadily",
    "still", "strangely", "strictly", "strongly", "subsequently", "substantially", "successfully", "suddenly",
    "sufficiently", "surprisingly", "suspiciously", "swiftly", "sympathetically", "thoroughly", "timely",
    "together", "tomorrow", "too", "totally", "typically", "ultimately", "unconditionally", "undoubtedly",
    "unfortunately", "uniformly", "uniquely", "universally", "usually", "utterly", "vaguely",
    "vehemently", "verbally", "very", "viciously", "victoriously", "violently", "virtually",
    "visibly", "vividly", "voluntarily", "warmly", "weakly", "wearily", "well", "widely", "wildly",
    "willingly", "wisely", "wistfully", "wonderfully", "worriedly", "wrongly", "yearly",
    "youthfully", "zealously"
]
verbs = [
    "accept", "allow", "ask", "believe", "borrow", "break", "bring", "buy", "can", "cancel", "change",
    "clean", "comb", "complain", "cough", "count", "cut", "dance", "draw", "drink", "drive", "eat",
    "explain", "fall", "fill", "find", "finish", "fit", "fix", "fly", "forget", "give", "go", "have",
    "hear", "hurt", "know", "learn", "leave", "listen", "live", "look", "lose", "make", "need", "open",
    "close", "pay", "play", "put", "rain", "read", "reply", "run", "say", "see", "sell", "send", "sign",
    "sing", "sit", "sleep", "smoke", "speak", "spell", "spend", "stand", "start", "stop", "study",
    "succeed", "swim", "take", "talk", "teach", "tell", "think", "translate", "travel", "try", "turn",
    "type", "understand", "use", "wait", "wake", "walk", "want", "watch", "work", "worry", "write",
    "become", "begin", "call", "come", "do", "feel", "get", "help", "keep", "kill", "let", "like", "hate",
    "love", "move", "show", "shut", "sing", "think", "throw", "touch", "turn", "understand", "win",
    "admire", "admit", "advise", "afford", "agree", "alert", "alight", "amuse", "analyze", "announce",
    "annoy", "answer", "apologize", "appear", "applaud", "appreciate", "approve", "argue", "arrange",
    "arrest", "arrive", "ask", "attach", "attack", "attempt", "attend", "attract", "avoid", "back", "bake",
    "balance", "ban", "bang", "bare", "bat", "bathe", "battle", "beam", "beg", "behave", "belong", "bleach",
    "bless", "blind", "blink", "blot", "blush", "boast", "boil", "bolt", "bomb", "book", "bore", "borrow",
    "buzz", "calculate", "call", "camp", "care", "carry", "carve", "cause", "challenge", "change", "charge",
    "chase", "cheat", "check", "cheer", "chew", "choke", "chop", "claim", "clap", "clean", "clear", "clip",
    "close", "coach", "coil", "collect", "colour", "comb", "command", "communicate", "compare", "compete",
    "contain", "continue", "copy", "correct", "cough", "count", "cover", "crack", "crash", "crawl", "cross",
    "deceive", "decide", "decorate", "delay", "delight", "deliver", "depend", "describe", "desert", "deserve",
    "destroy", "detect", "develop", "disagree", "disappear", "disapprove", "disarm", "discover", "dislike",
    "divide", "double", "doubt", "drag", "drain", "dream", "dress", "drip", "drop", "drown", "drum", "dry",
    "dust", "earn", "eat", "echo", "educate", "embarrass", "employ", "empty", "encourage", "end", "enjoy"
]
nouns = [
    "apple", "baby", "car", "dog", "elephant", "flower", "garden", "house", "island", "jewel", "kite",
    "lemon", "mountain", "night", "ocean", "piano", "queen", "river", "star", "tree", "umbrella",
    "volcano", "water", "xylophone", "yacht", "zebra", "air", "ball", "cat", "door", "egg", "frog",
    "grass", "hat", "ice", "jacket", "key", "lamp", "moon", "net", "orange", "pen", "quilt", "rose",
    "sun", "tiger", "unicorn", "violin", "wolf", "box", "clock", "dragon", "forest", "hill", "igloo",
    "jar", "kangaroo", "ladder", "mushroom", "noodle", "owl", "parrot", "robot", "snake", "tomato",
    "universe", "village", "whale", "x-ray", "yard", "zipper", "book", "chair", "desk", "envelope",
    "fish", "globe", "hammer", "ink", "juice", "kiwi", "leaf", "mirror", "nose", "oyster", "peach",
    "question", "rabbit", "sandwich", "turtle", "vase", "window", "xenon", "yarn", "zero", "arm",
    "boot", "ceiling", "diamond", "escalator", "feather", "guitar", "hook", "ice-cream", "jet",
    "kettle", "lion", "map", "neck", "octopus", "popcorn", "quarter", "rock", "spoon", "tablet",
    "unicorn", "vacuum", "wall", "xbox", "yo-yo", "zoo", "angel", "brain", "cloud", "devil", "echo",
    "flame", "ghost", "heart", "iron", "judge", "king", "leaf", "mask", "needle", "opera", "pearl",
    "quest", "ring", "shadow", "torch", "umbrella", "victory", "window", "exile", "youth", "zealot",
    "arch", "bridge", "canyon", "desert", "eclipse", "flute", "glacier", "harbor", "island", "jungle",
    "knight", "library", "mountain", "novel", "ocean", "prairie", "queen", "river", "sunset", "tree",
    "university", "valley", "waterfall", "xylophone", "yacht", "zoo", "actor", "baker", "crafter",
    "dancer", "engineer", "farmer", "guard", "hero", "inventor", "jester", "king", "lawyer", "miner",
    "nurse", "officer", "painter", "queen", "rider", "singer", "teacher", "umpire", "vendor", "writer",
    "xenophobe", "yogi", "zealot", "alchemy", "breeze", "crescent", "dawn", "ember", "forest", "grove",
    "hollow", "iceberg", "jewel", "kaleidoscope", "labyrinth", "meadow", "nebula", "oracle", "pinnacle",
    "quartz", "reef", "silhouette", "tundra", "utopia", "vortex", "wisp", "xenolith", "yarrow", "zenith",
    "avalanche", "blizzard", "cyclone", "delta", "equinox", "fjord", "glade", "hurricane", "inlet", "jetty",
    "kelp", "lagoon", "monsoon", "nadir", "oasis", "plateau", "quagmire", "ridge", "strait", "tide",
    "updraft", "volcano", "watershed", "service", "yardarm", "zeppelin", "crocodile", "fighter", "looser",
    "mosquito", "boat"
]

adjectives = [
    "able", "bad", "best", "better", "big", "black", "certain", "clear", "different", "early", "easy",
    "economic", "federal", "free", "full", "good", "great", "hard", "high", "human", "important",
    "international", "large", "late", "little", "local", "long", "low", "major", "military", "national",
    "new", "old", "only", "other", "political", "possible", "public", "real", "recent", "right", "small",
    "social", "special", "strong", "sure", "true", "white", "whole", "young", "active", "actual", "amazing",
    "angry", "annual", "available", "basic", "beautiful", "blue", "broad", "brown", "cheap", "clean", "cold",
    "commercial", "common", "complete", "complex", "concerned", "cool", "corporate", "critical", "current",
    "dark", "deep", "democratic", "different", "difficult", "due", "early", "economic", "effective",
    "efficient", "entire", "excellent", "exciting", "existing", "expensive", "familiar", "famous", "far",
    "fast", "favorite", "federal", "final", "financial", "fine", "foreign", "formal", "former", "free",
    "frequent", "friendly", "front", "full", "funny", "future", "general", "glad", "global", "good", "great",
    "green", "growing", "happy", "hard", "healthy", "heavy", "helpful", "high", "historical", "hot", "huge",
    "human", "ideal", "immediate", "important", "impossible", "impressive", "independent", "individual",
    "industrial", "inevitable", "informal", "inner", "interested", "interesting", "international", "joint",
    "large", "late", "leading", "legal", "likely", "limited", "local", "long", "loose", "lost", "low",
    "lucky", "major", "male", "massive", "medical", "military", "minor", "modern", "moral", "mutual",
    "naked", "national", "natural", "necessary", "negative", "new", "nice", "normal", "obvious", "official",
    "old", "only", "open", "operational", "original", "other", "overall", "particular", "personal",
    "physical", "political", "poor", "popular", "positive", "possible", "powerful", "practical", "present",
    "private", "probable", "quick", "quiet", "rapid", "rare", "ready", "real", "recent", "red", "regular",
    "related", "relative", "relevant", "reliable", "religious", "responsible", "rich", "right", "rough",
    "short", "sick", "significant", "similar", "simple", "single", "slight", "slow", "small", "smart",
    "social", "soft", "solid", "special", "specific", "stable", "standard", "strange", "strong", "successful",
    "sudden", "sufficient", "suitable", "surprised", "tall", "technical", "terrible", "thick", "thin", "tight",
    "unknown", "unlikely", "usual", "valuable", "various", "vast", "visual", "vital", "warm", "weak",
    "wealthy", "weird", "wide", "willing", "wise", "wonderful", "wrong", "young"
]

function splitArrayAndExtractMiddle(array) {
    const result = [];
    const n = Math.ceil(array.length / 8); // Calculate the size of each part, rounding up

    for (let i = 0; i < 8; i++) {
        const start = i * n;
        const end = Math.min(start + n, array.length); // Ensure we don't go past the array length
        const part = array.slice(start, end);

        if (part.length === 0) {
            continue; // In case the number of parts doesn't divide the array exactly
        }

        // Calculate the middle index relative to the part
        const middleIndex = Math.floor(part.length / 2);
        const middleElement = part[middleIndex];

        result.push(middleElement);
    }

    return result;
}

function hexPairsToSetOfIntegers(hexPairs) {
    const seen = new Set();
    const uniqueIntegers = [];

    hexPairs.forEach(hex => {
        const integer = parseInt(hex, 16);
        if (!seen.has(integer)) {
            seen.add(integer);
            uniqueIntegers.push(integer);
        }
    });

    return uniqueIntegers;
}

function convertToHexPairs(sha256String) {
    const hexPairs = [];
    for (let i = 0; i < sha256String.length; i += 2) {
        const pair = sha256String.substring(i, i + 2);
        hexPairs.push(pair);
    }
    return hexPairs;
}

async function generateHasAndConvertToReadableSignature(inputString) {
    const sha256String = await calculateSignatureSha256(inputString);
    return convertHashToReadableSignature(sha256String)
}

function convertHashToReadableSignature(sha256String) {
    const hexPairsAll = convertToHexPairs(sha256String);
    return convertToReadableSignature(hexPairsAll);
}

function convertToReadableSignature(hexPairsAll) {
    const arrayOfIntegers = splitArrayAndExtractMiddle(
        hexPairsToSetOfIntegers(hexPairsAll)
    );

    const words = [];

    let d = 0;
    for (let i = 0; i < arrayOfIntegers.length; i++) {
        const value = arrayOfIntegers[i];
        d += value;
        if (i === 0) {
            words.push(adjectives[value % 256]);
        }
        if (i === 1) {
            words.push(nouns[value % 256]);
            words.push("and");
        }
        if (i === 2) {
            words.push(adjectives[value % 256]);
        }
        if (i === 3) {
            words.push(nouns[value % 256]);
        }
        if (i === 4) {
            words.push(verbs[value % 256]);
            words.push(prepositions[d % 64]);
        }
        if (i === 5) {
            words.push(adjectives[value % 256]);
        }
        if (i === 6) {
            words.push(nouns[value % 256]);
        }
        if (i === 7) {
            words.push(adverbs[value % 256]);
        }
    }

    return words.join(' ');
}
