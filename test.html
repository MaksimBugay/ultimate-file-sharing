<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Similarity Challenge</title>
    <link rel="stylesheet" href="https://secure.fileshare.ovh/css/similarity-captcha-dialog.css">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background: #f3f3f3;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>


</body>
<script src="https://secure.fileshare.ovh/js/uuid.min.js"></script>
<script src="https://secure.fileshare.ovh/js/validate-human-token.js?v=<?= time(); ?>"></script>
<script src="https://secure.fileshare.ovh/js/similarity-captcha-integration.js?v=<?= time(); ?>"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const generatePageIdCustomFunction = async function (apiKey, sessionId, clientIp) {
            return await generatePageId(
                apiKey,
                sessionId,
                clientIp
            );
        };
        const validateHumanTokenCustomFunction = async function (pageId, token, apiKey, sessionId, clientIp) {
            return await validateAdvancedHumanToken(
                pageId,
                token,
                apiKey,
                sessionId,
                clientIp);
        };
        createSimilarityChallengeDialog(
            document.body,
            false,
            (token, pageId) => {
                document.body.innerHTML =
                    `<h1>Thank you!</h1><p>Human token was acquired: </p>
                     <br><div class="small-text">${token}</div>
                     <br><p>for page id</p>
                     <br><div class="small-text">${pageId.substring(0, 50)}...</div>`;
            },
            true,
            generatePageIdCustomFunction,
            validateHumanTokenCustomFunction
        );
    });
</script>
</html>
