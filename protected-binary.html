<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Protected content</title>
    <link rel="stylesheet" href="css/protected-binary.css">
</head>
<body style="background-color: #006BFD">
<iframe src="html/header.html" width="100%" height="93px"
        style="border: none; margin: 0 0 0 0; padding: 0 0 0 0"></iframe>
<div class="main-container">
    <p id="errorMessage"
       style="color: red; font-size: 20px; font-weight: bold;  display: none; position: absolute; z-index: 1000"></p>

    <div id="contentContainer" style="padding: 3px;background-color: darkblue;display: none">
        <img id="contentImage" class="media-content-container" src="images/how-to-medium.png"
             alt="Open image in browser">
        <video id="contentVideoPlayer" controls width="600" class="media-content-container">
            Your browser does not support the video tag.
        </video>
        <div id="contentText"
             class="media-content-container read-me-text-memo"
             aria-label="text message data"
             contenteditable="true"
             spellcheck="true"
             data-lexical-editor="true"
             role="textbox"
             style="font-size: 14px"
        ></div>
    </div>
    <div class="login-container">
        <div id="loginBox" class="login-box">
            <h2>Credentials</h2>
            <div class="input-group">
                <label id="ownerSignatureLabel" style="font-weight: bold;font-size: 14px; color: lightseagreen">Owner
                    signature: </label>
            </div>
            <div class="input-group">
                <label for="workSpaceId" style="font-weight: bold;font-size: 14px">Workspace ID </label>
                <input type="text" id="workSpaceId" name="workspace-id" required>
            </div>
            <div class="input-group">
                <label for="password" style="font-weight: bold;font-size: 14px">Password</label>
                <div class="password-container">
                    <input type="password" id="password" name="password" required>
                    <button type="button" id="togglePassword" class="toggle-password"></button>
                </div>
            </div>
            <div style="display: flex">
                <div class="input-group">
                    <input type="checkbox" id="openInBrowserCheckbox" checked/>
                    Open in browser
                </div>
                <div class="input-group">
                    <input type="checkbox" id="reuseCredentialsCheckbox" checked/>
                    Use for all content from that owner
                </div>
            </div>
            <div class="memo-container">
            <textarea id="pastCredentials" rows="2" cols="30"
                      placeholder="Past string with credentials received from owner here or enter workspace ID and password manually"></textarea>
            </div>
            <div class="input-group">
                <div id="readMeTextMemo"
                     class="read-me-text-memo"
                     aria-label="provide information about content"
                     contenteditable="false"
                     spellcheck="true"
                     data-lexical-editor="true"
                     role="textbox"
                ></div>
            </div>
            <div class="input-group" style="margin-bottom: 5px">
                <button id="downloadBtn">
                    <span id="buttonText">Download</span>
                </button>
            </div>
            <div id="progressBarContainer" style="display: none">
                <progress id="downloadProgress" value="0" max="100" style="width: 100%"></progress>
                <span id="progressPercentage">0%</span>
            </div>
        </div>
    </div>
</div>
</body>
<script src="js/fp.min.js"></script>
<script src="js/common-utils.js"></script>
<script src="js/callable-future.js?v=<?= time(); ?>"></script>
<script src="js/uuid.min.js"></script>
<script src="js/security-utils.js"></script>
<script src="js/owner-signature.js?v=<?= time(); ?>"></script>
<script src="js/credentials-db.js?v=<?= time(); ?>"></script>
<script src="js/protected-binary.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-W6XK68E4CF"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-W6XK68E4CF');
</script>
</html>